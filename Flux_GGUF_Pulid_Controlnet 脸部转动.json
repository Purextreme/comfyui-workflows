{"last_node_id":84,"last_link_id":169,"nodes":[{"id":45,"type":"PulidFluxModelLoader","pos":[746.5759887695312,-255.3998565673828],"size":[315,58],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[{"name":"PULIDFLUX","type":"PULIDFLUX","links":[125],"slot_index":0,"shape":3,"localized_name":"PULIDFLUX"}],"properties":{"Node name for S&R":"PulidFluxModelLoader"},"widgets_values":["pulid_flux_v0.9.1.safetensors"]},{"id":51,"type":"PulidFluxEvaClipLoader","pos":[744.7344970703125,-149.0459747314453],"size":[327.5999755859375,26],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[{"name":"EVA_CLIP","type":"EVA_CLIP","links":[123],"slot_index":0,"shape":3,"localized_name":"EVA_CLIP"}],"properties":{"Node name for S&R":"PulidFluxEvaClipLoader"},"widgets_values":[]},{"id":53,"type":"PulidFluxInsightFaceLoader","pos":[747.3975219726562,-67.5284652709961],"size":[322.71392822265625,58],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[{"name":"FACEANALYSIS","type":"FACEANALYSIS","links":[124],"slot_index":0,"shape":3,"localized_name":"FACEANALYSIS"}],"properties":{"Node name for S&R":"PulidFluxInsightFaceLoader"},"widgets_values":["CPU"]},{"id":74,"type":"SetUnionControlNetType","pos":[1469.86767578125,-25.136062622070312],"size":[315,58],"flags":{},"order":11,"mode":0,"inputs":[{"name":"control_net","type":"CONTROL_NET","link":143,"label":"control_net","localized_name":"control_net"}],"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[148],"slot_index":0,"shape":3,"label":"CONTROL_NET","localized_name":"CONTROL_NET"}],"properties":{"Node name for S&R":"SetUnionControlNetType"},"widgets_values":["openpose"],"color":"#223","bgcolor":"#335"},{"id":49,"type":"VAEDecode","pos":[2230.960205078125,-256.073974609375],"size":[210,46],"flags":{},"order":22,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":152,"localized_name":"samples"},{"name":"vae","type":"VAE","link":88,"localized_name":"vae"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[89],"slot_index":0,"shape":3,"localized_name":"IMAGE"}],"properties":{"Node name for S&R":"VAEDecode"},"widgets_values":[]},{"id":79,"type":"VAEEncode","pos":[1485.7401123046875,384.9002380371094],"size":[210,266],"flags":{},"order":12,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":162,"localized_name":"pixels"},{"name":"vae","type":"VAE","link":161,"localized_name":"vae"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[163],"slot_index":0,"localized_name":"LATENT"}],"properties":{"Node name for S&R":"VAEEncode"},"widgets_values":[]},{"id":75,"type":"AIO_Preprocessor","pos":[1475.8765869140625,242.2286376953125],"size":[315,82],"flags":{},"order":10,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":160,"localized_name":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[150,151],"slot_index":0,"localized_name":"IMAGE"}],"properties":{"Node name for S&R":"AIO_Preprocessor"},"widgets_values":["OpenposePreprocessor",1024]},{"id":78,"type":"LoadImage","pos":[1125.1719970703125,127.89653778076172],"size":[279.9193420410156,344.2169494628906],"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[160,162],"slot_index":0,"shape":3,"label":"IMAGE","localized_name":"IMAGE"},{"name":"MASK","type":"MASK","links":[],"slot_index":1,"shape":3,"label":"MASK","localized_name":"MASK"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["LCB601N01-1111.jpg","image"],"shape":1},{"id":81,"type":"Note","pos":[1858.9876708984375,-413.3618469238281],"size":[302.8055114746094,96.11319732666016],"flags":{},"order":4,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["更高的降噪值可以更改头发的颜色，但是可能会导致更高的随机性，controlnet 可以提高控制力，使降噪值上升到0.8以改变头发的颜色，虽然目前看，其实头发还是单独弄更好（因为始终原图会产生干扰）"],"color":"#432","bgcolor":"#653"},{"id":62,"type":"ApplyPulidFlux","pos":[1118.93603515625,-261.9640197753906],"size":[284.8069763183594,346],"flags":{},"order":16,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":168,"localized_name":"model"},{"name":"pulid_flux","type":"PULIDFLUX","link":125,"localized_name":"pulid_flux"},{"name":"eva_clip","type":"EVA_CLIP","link":123,"localized_name":"eva_clip"},{"name":"face_analysis","type":"FACEANALYSIS","link":124,"localized_name":"face_analysis"},{"name":"image","type":"IMAGE","link":137,"localized_name":"image"},{"name":"attn_mask","type":"MASK","link":null,"shape":7,"localized_name":"attn_mask"},{"name":"prior_image","type":"IMAGE","link":null,"shape":7,"localized_name":"prior_image"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[139],"slot_index":0,"shape":3,"localized_name":"MODEL"}],"properties":{"Node name for S&R":"ApplyPulidFlux"},"widgets_values":[1,0.4,1,"mean",1,0,1000,true]},{"id":72,"type":"ControlNetApplyAdvanced","pos":[1466.2747802734375,-259.2332458496094],"size":[315,186],"flags":{},"order":20,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":158,"localized_name":"positive"},{"name":"negative","type":"CONDITIONING","link":159,"localized_name":"negative"},{"name":"control_net","type":"CONTROL_NET","link":148,"localized_name":"control_net"},{"name":"image","type":"IMAGE","link":150,"localized_name":"image"},{"name":"vae","type":"VAE","link":153,"shape":7,"localized_name":"vae"}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[157],"slot_index":0,"localized_name":"positive"},{"name":"negative","type":"CONDITIONING","links":[156],"slot_index":1,"localized_name":"negative"}],"properties":{"Node name for S&R":"ControlNetApplyAdvanced"},"widgets_values":[0.6,0,0.4]},{"id":73,"type":"ControlNetLoader","pos":[1463.0064697265625,86.88567352294922],"size":[345.3482360839844,82.04207611083984],"flags":{},"order":5,"mode":0,"inputs":[],"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[143],"slot_index":0,"shape":3,"label":"CONTROL_NET","localized_name":"CONTROL_NET"}],"properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["Shakker-Labs-FLUX.1-dev-ControlNet-Union-Pro.safetensors"],"color":"#223","bgcolor":"#335"},{"id":77,"type":"PreviewImage","pos":[1858.5592041015625,259.7042236328125],"size":[291.5237731933594,270.8479919433594],"flags":{"collapsed":false},"order":14,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":151,"localized_name":"images"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":50,"type":"PreviewImage","pos":[2226.230224609375,-167.80545043945312],"size":[354.3118591308594,426.8742370605469],"flags":{},"order":23,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":89,"localized_name":"images"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":68,"type":"DualCLIPLoaderGGUF","pos":[-70,-130],"size":[315,106],"flags":{},"order":6,"mode":0,"inputs":[],"outputs":[{"name":"CLIP","type":"CLIP","links":[169],"slot_index":0,"localized_name":"CLIP"}],"properties":{"Node name for S&R":"DualCLIPLoaderGGUF"},"widgets_values":["t5xxl_fp8_e4m3fn.safetensors","clip_l.safetensors","flux"]},{"id":10,"type":"VAELoader","pos":[-70,30],"size":[311.81634521484375,60.429901123046875],"flags":{},"order":7,"mode":0,"inputs":[],"outputs":[{"name":"VAE","type":"VAE","links":[88,153,161],"slot_index":0,"shape":3,"localized_name":"VAE"}],"properties":{"Node name for S&R":"VAELoader"},"widgets_values":["ae.safetensors"]},{"id":83,"type":"LoraLoader","pos":[-70,140],"size":[315,126],"flags":{},"order":13,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":167,"localized_name":"model"},{"name":"clip","type":"CLIP","link":169,"localized_name":"clip"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[164],"slot_index":0,"localized_name":"MODEL"},{"name":"CLIP","type":"CLIP","links":[165],"slot_index":1,"localized_name":"CLIP"}],"properties":{"Node name for S&R":"LoraLoader"},"widgets_values":["XLabs-AI-flux-RealismLora.safetensors",1,1]},{"id":84,"type":"LoraLoader","pos":[-70,320],"size":[315,126],"flags":{},"order":15,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":164,"localized_name":"model"},{"name":"clip","type":"CLIP","link":165,"localized_name":"clip"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[168],"slot_index":0,"localized_name":"MODEL"},{"name":"CLIP","type":"CLIP","links":[166],"slot_index":1,"localized_name":"CLIP"}],"properties":{"Node name for S&R":"LoraLoader"},"widgets_values":["FLUX-dev-lora-AntiBlur.safetensors",0.5,0.5]},{"id":67,"type":"UnetLoaderGGUF","pos":[-80,-240],"size":[315,58],"flags":{},"order":8,"mode":0,"inputs":[],"outputs":[{"name":"MODEL","type":"MODEL","links":[167],"slot_index":0,"localized_name":"MODEL"}],"properties":{"Node name for S&R":"UnetLoaderGGUF"},"widgets_values":["flux1-dev-Q4_K_S.gguf"]},{"id":71,"type":"ConditioningZeroOut","pos":[334.1972351074219,366.0497131347656],"size":[317.4000244140625,26],"flags":{},"order":19,"mode":0,"inputs":[{"name":"conditioning","type":"CONDITIONING","link":141,"localized_name":"conditioning"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[159],"slot_index":0,"localized_name":"CONDITIONING"}],"properties":{"Node name for S&R":"ConditioningZeroOut"},"widgets_values":[]},{"id":26,"type":"FluxGuidance","pos":[339.7166748046875,214.42051696777344],"size":[317.4000244140625,58],"flags":{"collapsed":false},"order":18,"mode":0,"inputs":[{"name":"conditioning","type":"CONDITIONING","link":41,"localized_name":"conditioning"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[158],"slot_index":0,"shape":3,"localized_name":"CONDITIONING"}],"properties":{"Node name for S&R":"FluxGuidance"},"widgets_values":[4]},{"id":69,"type":"LoadImage","pos":[847.61572265625,127.50241088867188],"size":[268.72613525390625,344.921142578125],"flags":{},"order":9,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[137],"localized_name":"IMAGE"},{"name":"MASK","type":"MASK","links":null,"localized_name":"MASK"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["ComfyUI_temp_nskoi_00089_.png","image"]},{"id":6,"type":"CLIPTextEncode","pos":[286.8543701171875,-252.13311767578125],"size":[423.9098205566406,225.00665283203125],"flags":{},"order":17,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":166,"localized_name":"clip"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[41,141],"slot_index":0,"localized_name":"CONDITIONING"}],"title":"CLIP Text Encode (Positive Prompt)","properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["A photorealistic side profile portrait of a young woman with Western features, captured in a perfect right-facing profile view. Her straight honey-blonde hair flows naturally down her back and shoulders. She has delicate facial features with a defined nose bridge, soft brown eyes viewed from the side, and naturally arched eyebrows. Her complexion is clear and radiant. She's wearing a casual grey v-neck sweater, with her arms gracefully extended to the sides. The composition is clean and minimalist with a pure white studio background and professional soft lighting that creates subtle shadows and highlights on her profile. The photo has a contemporary lifestyle feel with crisp, high-quality studio photography aesthetics."]},{"id":70,"type":"KSampler","pos":[1855.846923828125,-259.8828125],"size":[315,474],"flags":{},"order":21,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":139,"localized_name":"model"},{"name":"positive","type":"CONDITIONING","link":157,"localized_name":"positive"},{"name":"negative","type":"CONDITIONING","link":156,"localized_name":"negative"},{"name":"latent_image","type":"LATENT","link":163,"localized_name":"latent_image"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[152],"slot_index":0,"localized_name":"LATENT"}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[416001796307652,"randomize",20,1,"euler","beta",0.9500000000000001]}],"links":[[41,6,0,26,0,"CONDITIONING"],[88,10,0,49,1,"VAE"],[89,49,0,50,0,"IMAGE"],[123,51,0,62,2,"EVA_CLIP"],[124,53,0,62,3,"FACEANALYSIS"],[125,45,0,62,1,"PULIDFLUX"],[137,69,0,62,4,"IMAGE"],[139,62,0,70,0,"MODEL"],[141,6,0,71,0,"CONDITIONING"],[143,73,0,74,0,"CONTROL_NET"],[148,74,0,72,2,"CONTROL_NET"],[150,75,0,72,3,"IMAGE"],[151,75,0,77,0,"IMAGE"],[152,70,0,49,0,"LATENT"],[153,10,0,72,4,"VAE"],[156,72,1,70,2,"CONDITIONING"],[157,72,0,70,1,"CONDITIONING"],[158,26,0,72,0,"CONDITIONING"],[159,71,0,72,1,"CONDITIONING"],[160,78,0,75,0,"IMAGE"],[161,10,0,79,1,"VAE"],[162,78,0,79,0,"IMAGE"],[163,79,0,70,3,"LATENT"],[164,83,0,84,0,"MODEL"],[165,83,1,84,1,"CLIP"],[166,84,1,6,0,"CLIP"],[167,67,0,83,0,"MODEL"],[168,84,0,62,0,"MODEL"],[169,68,0,83,1,"CLIP"]],"groups":[],"config":{},"extra":{"ds":{"scale":0.6830134553650707,"offset":[849.7343543823241,331.6300479217529]},"node_versions":{"ComfyUI-PuLID-Flux-Enhanced":"afc9705e11ec9095bfbca96e6c1c9b06835cec82","comfy-core":"0.3.13","comfyui_controlnet_aux":"5a049bde9cc117dafc327cded156459289097ea1","ComfyUI-GGUF":"5875c52f59baca3a9372d68c43a3775e21846fe0"},"ue_links":[]},"version":0.4}