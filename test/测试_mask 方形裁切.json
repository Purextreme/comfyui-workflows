{"last_node_id":26,"last_link_id":48,"nodes":[{"id":7,"type":"LoadImage","pos":[730,-370],"size":[315,314],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[28],"slot_index":0},{"name":"MASK","type":"MASK","links":[12,29],"slot_index":1}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"LoadImage"},"widgets_values":["clipspace/clipspace-mask-6198051.6000000015.png [input]","image"]},{"id":14,"type":"PreviewImage","pos":[2210,-390],"size":[210,246],"flags":{},"order":16,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":30}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":15,"type":"PreviewImage","pos":[2230,-70],"size":[210,246],"flags":{},"order":17,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":31}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":16,"type":"SimpleMathDual+","pos":[290,590],"size":[315,142],"flags":{},"order":1,"mode":2,"inputs":[{"name":"a","type":"*","shape":7,"link":null},{"name":"b","type":"*","shape":7,"link":null},{"name":"c","type":"*","shape":7,"link":null},{"name":"d","type":"*","shape":7,"link":null}],"outputs":[{"name":"int_1","type":"INT","links":null},{"name":"float_1","type":"FLOAT","links":null},{"name":"int_2","type":"INT","links":null},{"name":"float_2","type":"FLOAT","links":null}],"properties":{"cnr_id":"comfyui_essentials","ver":"33ff89fd354d8ec3ab6affb605a79a931b445d99","Node name for S&R":"SimpleMathDual+"},"widgets_values":["",""]},{"id":17,"type":"easy int","pos":[360,280],"size":[220,58],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[{"name":"int","type":"INT","links":[34],"slot_index":0}],"properties":{"cnr_id":"comfyui-easy-use","ver":"1.2.7","Node name for S&R":"easy int"},"widgets_values":[52]},{"id":19,"type":"easy int","pos":[310,160],"size":[220,58],"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[{"name":"int","type":"INT","links":[33],"slot_index":0}],"properties":{"cnr_id":"comfyui-easy-use","ver":"1.2.7","Node name for S&R":"easy int"},"widgets_values":[27]},{"id":21,"type":"MathExpression|pysssss","pos":[540,410],"size":[370,121],"flags":{},"order":4,"mode":2,"inputs":[{"name":"a","type":"INT,FLOAT,IMAGE,LATENT","shape":7,"link":null},{"name":"b","type":"INT,FLOAT,IMAGE,LATENT","shape":7,"link":null},{"name":"c","type":"INT,FLOAT,IMAGE,LATENT","shape":7,"link":null}],"outputs":[{"name":"INT","type":"INT","links":null},{"name":"FLOAT","type":"FLOAT","links":null}],"properties":{"cnr_id":"comfyui-custom-scripts","ver":"bbda5e52ad580c13ceaa53136d9c2bed9137bd2e"},"widgets_values":["",[false,true]]},{"id":20,"type":"SimpleMath+","pos":[630,180],"size":[315,98],"flags":{},"order":8,"mode":0,"inputs":[{"name":"a","type":"*","shape":7,"link":33},{"name":"b","type":"*","shape":7,"link":34},{"name":"c","type":"*","shape":7,"link":null}],"outputs":[{"name":"INT","type":"INT","links":[32],"slot_index":0},{"name":"FLOAT","type":"FLOAT","links":null}],"properties":{"cnr_id":"comfyui_essentials","ver":"33ff89fd354d8ec3ab6affb605a79a931b445d99","Node name for S&R":"SimpleMath+"},"widgets_values":["a!=b"]},{"id":18,"type":"easy showAnything","pos":[990,180],"size":[210,76],"flags":{},"order":12,"mode":0,"inputs":[{"name":"anything","type":"*","shape":7,"link":32}],"outputs":[{"name":"output","type":"*","links":null}],"properties":{"cnr_id":"comfyui-easy-use","ver":"1.2.7","Node name for S&R":"easy showAnything"},"widgets_values":["1"]},{"id":22,"type":"easy boolean","pos":[1030,290],"size":[315,58],"flags":{},"order":5,"mode":2,"inputs":[],"outputs":[{"name":"boolean","type":"BOOLEAN","links":[],"slot_index":0}],"properties":{"cnr_id":"comfyui-easy-use","ver":"1.2.7","Node name for S&R":"easy boolean"},"widgets_values":[false]},{"id":10,"type":"IDENode","pos":[1090,-1290],"size":[530,600],"flags":{"collapsed":false},"order":9,"mode":2,"inputs":[{"name":"var1","type":"*","link":15},{"name":"var2","type":"*","link":16},{"name":"var3","type":"*","link":17}],"outputs":[{"name":"result","type":"*","links":[],"slot_index":0},{"name":"height","type":"*","links":[],"slot_index":1},{"name":"weight","type":"*","links":[],"slot_index":2}],"properties":{"cnr_id":"comfyui_custom_nodes_alekpet","ver":"5fc22da44a04b8d5f75e91d0d9bb9f961e5ab721","Node name for S&R":"IDENode"},"widgets_values":["python","monokai","add_input_variable","add_output_variable","clear_code","# !!! Attention, do not insert unverified code !!!\n# ---- Example code ----\n# Globals inputs variables: var1, var2, var3, user variables ...\ndef runcode(var1, var2, var3):\n    # 初始化输出变量\n    weight = 0  # 宽度增量\n    height = 0  # 高度增量\n\n    if not var3:  # 布尔值为False时，各边均匀扩展1/2\n        weight = round(var1/2)  # 宽度增加原宽度的1/2\n        height = round(var2/2)  # 高度增加原高度的1/2\n    else:  # 布尔值为True时\n        if var1 > var2:  # 宽度大于高度\n            weight = round(var1/2)  # 长边只需扩展1/2\n            height = round(var1/2 + (var1-var2)/2)  # 短边需要补偿\n        elif var1 < var2:  # 高度大于宽度\n            weight = round(var2/2 + (var2-var1)/2)  # 短边需要补偿\n            height = round(var2/2)  # 长边只需扩展1/2\n        else:  # 正方形\n            weight = height = round(var1/2)\n\n    return (height, weight)\n\nheight, weight = runcode(var1, var2, var3)\n"]},{"id":2,"type":"MaskBoundingBox+","pos":[1120,-260],"size":[210,182],"flags":{},"order":7,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":12},{"name":"image_optional","type":"IMAGE","shape":7,"link":null}],"outputs":[{"name":"MASK","type":"MASK","links":[],"slot_index":0},{"name":"IMAGE","type":"IMAGE","links":[],"slot_index":1},{"name":"x","type":"INT","links":[],"slot_index":2},{"name":"y","type":"INT","links":[],"slot_index":3},{"name":"width","type":"INT","links":[15,39,40],"slot_index":4},{"name":"height","type":"INT","links":[16,41,42],"slot_index":5}],"properties":{"cnr_id":"comfyui_essentials","ver":"33ff89fd354d8ec3ab6affb605a79a931b445d99","Node name for S&R":"MaskBoundingBox+"},"widgets_values":[0,0]},{"id":26,"type":"easy showAnything","pos":[1930,210],"size":[210,76],"flags":{},"order":15,"mode":0,"inputs":[{"name":"anything","type":"*","shape":7,"link":48}],"outputs":[{"name":"output","type":"*","links":null}],"properties":{"cnr_id":"comfyui-easy-use","ver":"1.2.7","Node name for S&R":"easy showAnything"},"widgets_values":["194"]},{"id":25,"type":"easy showAnything","pos":[1930,30],"size":[210,76],"flags":{},"order":13,"mode":0,"inputs":[{"name":"anything","type":"*","shape":7,"link":47}],"outputs":[{"name":"output","type":"*","links":null}],"properties":{"cnr_id":"comfyui-easy-use","ver":"1.2.7","Node name for S&R":"easy showAnything"},"widgets_values":["122"]},{"id":23,"type":"SimpleMathCondition+","pos":[1470,-150],"size":[315,142],"flags":{},"order":10,"mode":0,"inputs":[{"name":"evaluate","type":"*","link":37},{"name":"a","type":"*","shape":7,"link":39},{"name":"b","type":"*","shape":7,"link":41},{"name":"c","type":"*","shape":7,"link":null}],"outputs":[{"name":"INT","type":"INT","links":[43,44,47],"slot_index":0},{"name":"FLOAT","type":"FLOAT","links":null}],"properties":{"cnr_id":"comfyui_essentials","ver":"33ff89fd354d8ec3ab6affb605a79a931b445d99","Node name for S&R":"SimpleMathCondition+"},"widgets_values":["max(a,b)/2+max(0,(b-a)/2)","a/2"]},{"id":24,"type":"SimpleMathCondition+","pos":[1480,40],"size":[315,142],"flags":{},"order":11,"mode":0,"inputs":[{"name":"evaluate","type":"*","link":38},{"name":"a","type":"*","shape":7,"link":40},{"name":"b","type":"*","shape":7,"link":42},{"name":"c","type":"*","shape":7,"link":null}],"outputs":[{"name":"INT","type":"INT","links":[45,46,48],"slot_index":0},{"name":"FLOAT","type":"FLOAT","links":null}],"properties":{"cnr_id":"comfyui_essentials","ver":"33ff89fd354d8ec3ab6affb605a79a931b445d99","Node name for S&R":"SimpleMathCondition+"},"widgets_values":["max(a,b)/2+max(0,(a-b)/2)","b/2"]},{"id":11,"type":"easy boolean","pos":[1030,0],"size":[315,58],"flags":{},"order":6,"mode":0,"inputs":[],"outputs":[{"name":"boolean","type":"BOOLEAN","links":[17,37,38],"slot_index":0}],"properties":{"cnr_id":"comfyui-easy-use","ver":"1.2.7","Node name for S&R":"easy boolean"},"widgets_values":[true]},{"id":5,"type":"LayerUtility: CropByMask V2","pos":[1820,-370],"size":[340.20001220703125,262],"flags":{},"order":14,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":28},{"name":"mask","type":"MASK","link":29},{"name":"crop_box","type":"BOX","shape":7,"link":null},{"name":"bottom_reserve","type":"INT","widget":{"name":"bottom_reserve"},"link":45},{"name":"left_reserve","type":"INT","widget":{"name":"left_reserve"},"link":43},{"name":"top_reserve","type":"INT","widget":{"name":"top_reserve"},"link":46},{"name":"right_reserve","type":"INT","widget":{"name":"right_reserve"},"link":44}],"outputs":[{"name":"croped_image","type":"IMAGE","links":[30],"slot_index":0},{"name":"croped_mask","type":"MASK","links":[],"slot_index":1},{"name":"crop_box","type":"BOX","links":[],"slot_index":2},{"name":"box_preview","type":"IMAGE","links":[31],"slot_index":3}],"properties":{"cnr_id":"comfyui_layerstyle","ver":"7b326d13e43fc4022cd80e472c7af67027409b1e","Node name for S&R":"LayerUtility: CropByMask V2"},"widgets_values":[false,"mask_area",400,400,400,400,"8"],"color":"rgba(38, 73, 116, 0.7)"}],"links":[[12,7,1,2,0,"MASK"],[15,2,4,10,0,"*"],[16,2,5,10,1,"*"],[17,11,0,10,2,"*"],[28,7,0,5,0,"IMAGE"],[29,7,1,5,1,"MASK"],[30,5,0,14,0,"IMAGE"],[31,5,3,15,0,"IMAGE"],[32,20,0,18,0,"*"],[33,19,0,20,0,"*"],[34,17,0,20,1,"*"],[37,11,0,23,0,"*"],[38,11,0,24,0,"*"],[39,2,4,23,1,"*"],[40,2,4,24,1,"*"],[41,2,5,23,2,"*"],[42,2,5,24,2,"*"],[43,23,0,5,4,"INT"],[44,23,0,5,6,"INT"],[45,24,0,5,3,"INT"],[46,24,0,5,5,"INT"],[47,23,0,25,0,"*"],[48,24,0,26,0,"*"]],"groups":[],"config":{},"extra":{"ds":{"scale":1.7715610000000013,"offset":[-1801.1492970423215,221.21473833547694]},"ue_links":[]},"version":0.4}