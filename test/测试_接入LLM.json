{"last_node_id":53,"last_link_id":92,"nodes":[{"id":20,"type":"LLM_api_loader","pos":[560,60],"size":[315,130],"flags":{"collapsed":false},"order":0,"mode":0,"inputs":[],"outputs":[{"name":"model","localized_name":"model","label":"model","type":"CUSTOM","shape":3,"links":[32],"slot_index":0}],"properties":{"cnr_id":"comfyui_llm_party","ver":"ce7cc505bc0143a2c20e393f69ad7f653f0dc853","Node name for S&R":"LLM_api_loader"},"widgets_values":["claude-3-7-sonnet-20250219","","",false],"color":"#2a363b","bgcolor":"#3f5159"},{"id":27,"type":"Label (rgthree)","pos":[560,10],"size":[174.673828125,12],"flags":{"allow_interaction":true},"order":1,"mode":0,"inputs":[],"outputs":[],"title":"安全考虑，不要直接在这里写key","properties":{"fontSize":12,"fontFamily":"Arial","fontColor":"yellow","textAlign":"left","backgroundColor":"transparent","padding":0,"borderRadius":0},"color":"#fff0","bgcolor":"#fff0"},{"id":32,"type":"Note","pos":[1000,790],"size":[210,60],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["is looked 可以打开缓存"],"color":"#432","bgcolor":"#653"},{"id":23,"type":"ImpactMakeImageBatch","pos":[700,380],"size":[140,66],"flags":{},"order":8,"mode":0,"inputs":[{"name":"image1","localized_name":"image1","type":"IMAGE","link":57},{"name":"image2","type":"IMAGE","link":58},{"name":"image3","type":"IMAGE","link":null}],"outputs":[{"name":"IMAGE","localized_name":"IMAGE","type":"IMAGE","links":[47],"slot_index":0}],"properties":{"cnr_id":"comfyui-impact-pack","ver":"808b0dedf03534a2594ecb60a9d6305a044efdc2","Node name for S&R":"ImpactMakeImageBatch"},"widgets_values":[]},{"id":18,"type":"LoadImage","pos":[-620,-30],"size":[315,314],"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","localized_name":"IMAGE","label":"IMAGE","type":"IMAGE","shape":3,"links":[48],"slot_index":0},{"name":"MASK","localized_name":"MASK","label":"MASK","type":"MASK","shape":3,"links":[49],"slot_index":1}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"LoadImage"},"widgets_values":["GSA204G02.png","image"],"color":"#232","bgcolor":"#353"},{"id":34,"type":"LayerUtility: CropByMask V2","pos":[-240,-120],"size":[340.20001220703125,262],"flags":{},"order":5,"mode":0,"inputs":[{"name":"image","localized_name":"image","type":"IMAGE","link":48},{"name":"mask","localized_name":"mask","type":"MASK","link":49},{"name":"crop_box","localized_name":"crop_box","type":"BOX","shape":7,"link":null}],"outputs":[{"name":"croped_image","localized_name":"croped_image","type":"IMAGE","links":[50,51],"slot_index":0},{"name":"croped_mask","localized_name":"croped_mask","type":"MASK","links":[52],"slot_index":1},{"name":"crop_box","localized_name":"crop_box","type":"BOX","links":null},{"name":"box_preview","localized_name":"box_preview","type":"IMAGE","links":null}],"properties":{"cnr_id":"comfyui_layerstyle","ver":"7b326d13e43fc4022cd80e472c7af67027409b1e","Node name for S&R":"LayerUtility: CropByMask V2"},"widgets_values":[true,"mask_area",20,20,20,20,"8"],"color":"rgba(38, 73, 116, 0.7)"},{"id":35,"type":"LayerStyle: ColorOverlay V2","pos":[140,-70],"size":[340.20001220703125,170],"flags":{},"order":7,"mode":0,"inputs":[{"name":"background_image","localized_name":"background_image","type":"IMAGE","link":50},{"name":"layer_image","localized_name":"layer_image","type":"IMAGE","link":51},{"name":"layer_mask","localized_name":"layer_mask","type":"MASK","shape":7,"link":52}],"outputs":[{"name":"image","localized_name":"image","type":"IMAGE","links":[53,56],"slot_index":0}],"properties":{"cnr_id":"comfyui_layerstyle","ver":"7b326d13e43fc4022cd80e472c7af67027409b1e","Node name for S&R":"LayerStyle: ColorOverlay V2"},"widgets_values":[true,"normal",100,"white"],"color":"rgba(20, 95, 121, 0.7)"},{"id":33,"type":"ImageScaleToTotalPixels","pos":[0,590],"size":[340.20001220703125,82],"flags":{},"order":6,"mode":0,"inputs":[{"name":"image","localized_name":"image","type":"IMAGE","link":45}],"outputs":[{"name":"IMAGE","localized_name":"IMAGE","type":"IMAGE","links":[46,58],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"ImageScaleToTotalPixels"},"widgets_values":["lanczos",0.15]},{"id":40,"type":"ShowText|pysssss","pos":[1400,760],"size":[450,250],"flags":{},"order":15,"mode":0,"inputs":[{"name":"text","type":"STRING","widget":{"name":"text"},"link":60}],"outputs":[{"name":"STRING","localized_name":"STRING","type":"STRING","shape":6,"links":null}],"properties":{"cnr_id":"comfyui-custom-scripts","ver":"bbda5e52ad580c13ceaa53136d9c2bed9137bd2e","Node name for S&R":"ShowText|pysssss"},"widgets_values":["","{\n“提示”：[\n“现代露台环境，带有温暖的天然阳光，木制甲板地板，盆栽植物的植物和一个小的圆形咖啡桌。背景显示了一条白色的灰泥墙，带有攀爬的藤蔓和带有盛开的花朵的花园的部分景色。”，\n“一个极简主义的后院空间，带有砖砌的摊铺机露台，斑驳的阳光透过高大的树木过滤，带有多肉植物的装饰石播种机，以及宁静的水特征的遥远景色。清洁现代美感，具有自然质地。”\n“一个舒适的阳台环境，俯瞰着郁郁葱葱的花园景观，陶土地板，小木质桌子，配有柠檬水的玻璃罐，沿栏杆盆栽草药以及柔软的散射日光，营造出温暖，引人入胜的氛围。”\n这是给出的\n}"]},{"id":11,"type":"show_text_party","pos":[1430,180],"size":[454.6876220703125,290.2985534667969],"flags":{},"order":12,"mode":0,"inputs":[{"name":"text","label":"text","type":"STRING","widget":{"name":"text"},"link":34}],"outputs":[{"name":"STRING","localized_name":"STRING","label":"STRING","type":"STRING","shape":6,"links":null,"slot_index":0}],"properties":{"cnr_id":"comfyui_llm_party","ver":"ce7cc505bc0143a2c20e393f69ad7f653f0dc853","Node name for S&R":"show_text_party"},"widgets_values":["","{\n  \"prompts\": [\n    \"A modern patio setting with warm natural sunlight, wooden deck flooring, potted plants with green foliage, and a small round coffee table. The background shows a white stucco wall with climbing vines and partial view of a garden with blooming flowers.\",\n    \"A minimalist backyard space with a brick paver patio, dappled sunlight filtering through tall trees, decorative stone planters with succulents, and a distant view of a tranquil water feature. Clean modern aesthetic with natural textures.\",\n    \"A cozy balcony setting overlooking a lush garden landscape, terracotta tiled floor, small wooden side table with a glass pitcher of lemonade, potted herbs along the railing, and soft diffused daylight creating a warm, inviting atmosphere.\"\n  ]\n}"],"color":"#233","bgcolor":"#355"},{"id":39,"type":"GoogleTranslateTextNode","pos":[1420,550],"size":[218.39999389648438,172],"flags":{},"order":13,"mode":0,"inputs":[{"name":"text","type":"STRING","widget":{"name":"text"},"link":59}],"outputs":[{"name":"text","localized_name":"text","type":"STRING","links":[60],"slot_index":0}],"properties":{"cnr_id":"comfyui_custom_nodes_alekpet","ver":"7f4d0878bbc1a00636f771e841c4928767efdb82","Node name for S&R":"GoogleTranslateTextNode"},"widgets_values":["auto","zh-cn",false,"Manual Trasnlate","",[false,true]]},{"id":43,"type":"FL_CodeNode","pos":[1900,180],"size":[410,400],"flags":{"collapsed":true},"order":14,"mode":0,"inputs":[{"name":"0_assistant_response","type":"STRING","link":61},{"name":"input","type":"*","link":null}],"outputs":[{"name":"output_0","localized_name":"output_0","type":"*","links":[82],"slot_index":0},{"name":"output_1","localized_name":"output_1","type":"*","links":[86],"slot_index":1},{"name":"output_2","localized_name":"output_2","type":"*","links":[81,90],"slot_index":2},{"name":"output_3","localized_name":"output_3","type":"*","links":null}],"properties":{"cnr_id":"comfyui_fill-nodes","ver":"1.1.1","Node name for S&R":"FL_CodeNode"},"widgets_values":["import json\n\ntry:\n    # 解析输入的JSON字符串\n    data = json.loads(inputs[0])\n    \n    # 获取prompts数组\n    prompts = data.get(\"prompts\", [])\n    \n    # 将prompts中的文本分配到输出端口，并确保是字符串类型\n    for i in range(min(len(prompts), 4)):  # 最多输出4个\n        outputs[i] = str(prompts[i])\n    \n    # 如果prompts少于4个，其余输出保持为None\n    \nexcept Exception as e:\n    outputs[0] = f\"Error: {str(e)}\"\n","./res/hello.py",false],"color":"#16727c","bgcolor":"#4F0074"},{"id":47,"type":"ImpactMakeAnyList","pos":[1930,240],"size":[140,86],"flags":{},"order":16,"mode":0,"inputs":[{"name":"value1","localized_name":"value1","type":"STRING","shape":7,"link":82},{"name":"value2","type":"STRING","link":86},{"name":"value3","type":"STRING","link":90},{"name":"value4","type":"STRING","link":null}],"outputs":[{"name":"STRING","localized_name":"*","label":"STRING","type":"STRING","shape":6,"links":[92],"slot_index":0}],"properties":{"cnr_id":"comfyui-impact-pack","ver":"808b0dedf03534a2594ecb60a9d6305a044efdc2","Node name for S&R":"ImpactMakeAnyList"},"widgets_values":[]},{"id":50,"type":"easy showAnything","pos":[2100,200],"size":[410,370],"flags":{},"order":17,"mode":0,"inputs":[{"name":"anything","localized_name":"anything","type":"*","shape":7,"link":92}],"outputs":[{"name":"output","localized_name":"output","type":"*","links":null}],"properties":{"cnr_id":"comfyui-easy-use","ver":"1.2.7","Node name for S&R":"easy showAnything"},"widgets_values":["A modern patio setting with warm natural sunlight, wooden deck flooring, potted plants with green foliage, and a small round coffee table. The background shows a white stucco wall with climbing vines and partial view of a garden with blooming flowers.","A minimalist backyard space with a brick paver patio, dappled sunlight filtering through tall trees, decorative stone planters with succulents, and a distant view of a tranquil water feature. Clean modern aesthetic with natural textures.","A cozy balcony setting overlooking a lush garden landscape, terracotta tiled floor, small wooden side table with a glass pitcher of lemonade, potted herbs along the railing, and soft diffused daylight creating a warm, inviting atmosphere."]},{"id":21,"type":"LLM","pos":[936,223],"size":[392.7198181152344,534],"flags":{},"order":11,"mode":0,"inputs":[{"name":"model","localized_name":"model","label":"model","type":"CUSTOM","link":32},{"name":"images","localized_name":"images","label":"images","type":"IMAGE","shape":7,"link":47},{"name":"system_prompt_input","label":"system_prompt_input","type":"STRING","widget":{"name":"system_prompt_input"},"link":null},{"name":"user_prompt_input","label":"user_prompt_input","type":"STRING","widget":{"name":"user_prompt_input"},"link":null},{"name":"tools","label":"tools","type":"STRING","widget":{"name":"tools"},"link":null},{"name":"file_content","label":"file_content","type":"STRING","widget":{"name":"file_content"},"link":null},{"name":"extra_parameters","localized_name":"extra_parameters","type":"DICT","shape":7,"link":null}],"outputs":[{"name":"assistant_response","localized_name":"assistant_response","label":"assistant_response","type":"STRING","shape":3,"links":[34,59,61],"slot_index":0},{"name":"history","localized_name":"history","label":"history","type":"STRING","shape":3,"links":null},{"name":"tool","localized_name":"tool","label":"tool","type":"STRING","shape":3,"links":null},{"name":"image","localized_name":"image","label":"image","type":"IMAGE","shape":3,"links":null}],"properties":{"cnr_id":"comfyui_llm_party","ver":"ce7cc505bc0143a2c20e393f69ad7f653f0dc853","Node name for S&R":"LLM"},"widgets_values":["你是一个提示词助手，用户是一个comfyui生图爱好者，目标是生成逼真的照片级图像。你的任务是根据用户的需求生成适合的生图英文提示词，自然语言格式即可，无需负面提示词。\n一般提示词模板：\nExample Prompt: A hyperrealistic portrait of a weathered sailor in his 60s, with deep-set blue eyes, a salt-and-pepper beard, and sun-weathered skin. He’s wearing a faded blue captain’s hat and a thick wool sweater. The background shows a misty harbor at dawn, with fishing boats barely visible in the distance.","图1占据面积最大的主体部分是我的产品，由于是简单抠图，边界可能有别的东西和白色背景，但只有主体是产品，我需要为其生成一个背景\n图2是参考图，用来提供背景环境参考例如产品在空间中的大小、用途，指导产品环境是室内，还是室外，例如室内背景，沙滩背景，户外野营背景等等，你可以参考图2，生成类似的背景提示词（但不能一模一样，它只是给你参考的,忽略参考图中可能存在的任何文字、排版或者标识信息，我不需要这些平面设计添加的内容，忽略人物，我不需要生成任何人物）\n我的背景环境都是白天自然光的，写实风格的，不要出现下雨，夜晚的情况，不要出现任何版权内容\n\n我需要3组提示词，因此需要你帮我生成3个不同的场景或者风格\n特别注意，你的提示词里面不能包含我的产品，因为我会把我的产品P上去，你只需要想象背景，它们能够搭配产品即可\n\n只回复提示词，除了提示词，不需要其它回复，不用解释，不用额外内容\n\n请以以下JSON格式提供3个提示词：\n{\n  \"prompts\": [\n    \"提示词1\",\n    \"提示词2\",\n    \"提示词3\"\n  ]\n}",0.7000000000000001,"disable","disable","enable","enable",1920,"","","","","",100,"",true,"","",[false,true],[false,true]]},{"id":22,"type":"LoadImage","pos":[-620,330],"size":[315,314],"flags":{},"order":4,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","localized_name":"IMAGE","label":"IMAGE","type":"IMAGE","shape":3,"links":[45],"slot_index":0},{"name":"MASK","localized_name":"MASK","label":"MASK","type":"MASK","shape":3,"links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"LoadImage"},"widgets_values":["GSA204G02.jpg","image"],"color":"#232","bgcolor":"#353"},{"id":38,"type":"ImageScaleToTotalPixels","pos":[80,260],"size":[340.20001220703125,82],"flags":{},"order":10,"mode":0,"inputs":[{"name":"image","localized_name":"image","type":"IMAGE","link":56}],"outputs":[{"name":"IMAGE","localized_name":"IMAGE","type":"IMAGE","links":[57],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"ImageScaleToTotalPixels"},"widgets_values":["lanczos",0.1]},{"id":36,"type":"PreviewImage","pos":[-220,210],"size":[210,246],"flags":{},"order":9,"mode":0,"inputs":[{"name":"images","localized_name":"images","type":"IMAGE","link":53}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"PreviewImage"},"widgets_values":[]}],"links":[[32,20,0,21,0,"CUSTOM"],[34,21,0,11,0,"STRING"],[45,22,0,33,0,"IMAGE"],[46,33,0,23,0,"IMAGE"],[47,23,0,21,1,"IMAGE"],[48,18,0,34,0,"IMAGE"],[49,18,1,34,1,"MASK"],[50,34,0,35,0,"IMAGE"],[51,34,0,35,1,"IMAGE"],[52,34,1,35,2,"MASK"],[53,35,0,36,0,"IMAGE"],[56,35,0,38,0,"IMAGE"],[57,38,0,23,0,"IMAGE"],[58,33,0,23,1,"IMAGE"],[59,21,0,39,0,"STRING"],[60,39,0,40,0,"STRING"],[61,21,0,43,0,"*"],[81,43,2,47,1,"STRING"],[82,43,0,47,0,"STRING"],[86,43,1,47,1,"STRING"],[90,43,2,47,2,"STRING"],[92,47,0,50,0,"*"]],"groups":[],"config":{},"extra":{"ds":{"scale":0.620921323059155,"offset":[1421.0371284893113,312.3908274441753]},"ue_links":[]},"version":0.4}