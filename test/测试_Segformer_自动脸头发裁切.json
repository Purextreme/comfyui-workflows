{"last_node_id":17,"last_link_id":29,"nodes":[{"id":7,"type":"LayerMask: SegformerClothesPipelineLoader","pos":[-864.6212768554688,923.4273071289062],"size":[373.91729736328125,466],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[{"name":"segformer_pipeline","localized_name":"segformer_pipeline","type":"SegPipeline","links":[4],"slot_index":0}],"properties":{"cnr_id":"comfyui_layerstyle","ver":"7b326d13e43fc4022cd80e472c7af67027409b1e","Node name for S&R":"LayerMask: SegformerClothesPipelineLoader"},"widgets_values":["segformer_b3_clothes",true,true,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],"color":"rgba(27, 80, 119, 0.7)"},{"id":3,"type":"LoadImage","pos":[-827.2771606445312,549.1806030273438],"size":[315,314],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","localized_name":"IMAGE","type":"IMAGE","links":[6],"slot_index":0},{"name":"MASK","localized_name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"LoadImage"},"widgets_values":["竹布瓶子篓RR509 513 B01 G01模特合成——需换脸.jpg","image"]},{"id":12,"type":"MaskBoundingBox+","pos":[-280,1150],"size":[210,182],"flags":{},"order":4,"mode":0,"inputs":[{"name":"mask","localized_name":"mask","type":"MASK","link":17},{"name":"image_optional","localized_name":"image_optional","type":"IMAGE","shape":7,"link":null}],"outputs":[{"name":"MASK","localized_name":"MASK","type":"MASK","links":[],"slot_index":0},{"name":"IMAGE","localized_name":"IMAGE","type":"IMAGE","links":[],"slot_index":1},{"name":"x","localized_name":"x","type":"INT","links":[],"slot_index":2},{"name":"y","localized_name":"y","type":"INT","links":[],"slot_index":3},{"name":"width","localized_name":"width","type":"INT","links":[18],"slot_index":4},{"name":"height","localized_name":"height","type":"INT","links":[19],"slot_index":5}],"properties":{"cnr_id":"comfyui_essentials","ver":"33ff89fd354d8ec3ab6affb605a79a931b445d99","Node name for S&R":"MaskBoundingBox+"},"widgets_values":[0,0]},{"id":13,"type":"FL_CodeNode","pos":[30,1180],"size":[210,184],"flags":{},"order":5,"mode":0,"inputs":[{"name":"0_width","type":"INT","link":18},{"name":"1_height","type":"INT","link":19},{"name":"2_boolean","type":"BOOLEAN","link":20},{"name":"input","type":"*","link":null}],"outputs":[{"name":"output_0","localized_name":"output_0","type":"*","links":[22],"slot_index":0},{"name":"output_1","localized_name":"output_1","type":"*","links":[23,24,25],"slot_index":1},{"name":"output_2","localized_name":"output_2","type":"*","links":null},{"name":"output_3","localized_name":"output_3","type":"*","links":null}],"properties":{"cnr_id":"comfyui_fill-nodes","ver":"1.1.1","Node name for S&R":"FL_CodeNode"},"widgets_values":["def runcode(var1, var2, var3):\n    # var1: 宽度, var2: 高度, var3: 布尔值\n    weight = 0  # 宽度增量\n    height = 0  # 高度增量\n\n    if not var3:  # 布尔值为False时，各边均匀扩展1/2\n        weight = round(var1/2)  # 宽度增加原宽度的1/2\n        height = round(var2/2)  # 高度增加原高度的1/2\n    else:  # 布尔值为True时\n        if var1 > var2:  # 宽度大于高度\n            weight = round(var1/2)  # 长边只需扩展1/2\n            height = round(var1/2 + (var1-var2)/2)  # 短边需要补偿\n        elif var1 < var2:  # 高度大于宽度\n            weight = round(var2/2 + (var2-var1)/2)  # 短边需要补偿\n            height = round(var2/2)  # 长边只需扩展1/2\n        else:  # 正方形\n            weight = height = round(var1/2)\n\n    return (weight ,height)\n\n# 使用inputs和outputs字典\noutputs[0], outputs[1] = runcode(inputs[0], inputs[1], inputs[2])\n","./res/hello.py",false],"color":"#16727c","bgcolor":"#4F0074"},{"id":16,"type":"PreviewImage","pos":[410,1050],"size":[210,246],"flags":{},"order":8,"mode":0,"inputs":[{"name":"images","localized_name":"images","type":"IMAGE","link":28}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":6,"type":"LayerMask: SegformerUltraV2","pos":[-460,830],"size":[365.4000244140625,246],"flags":{},"order":3,"mode":0,"inputs":[{"name":"image","localized_name":"image","type":"IMAGE","link":6},{"name":"segformer_pipeline","localized_name":"segformer_pipeline","type":"SegPipeline","link":4}],"outputs":[{"name":"image","localized_name":"image","type":"IMAGE","links":[26],"slot_index":0},{"name":"mask","localized_name":"mask","type":"MASK","links":[9,17],"slot_index":1}],"properties":{"cnr_id":"comfyui_layerstyle","ver":"7b326d13e43fc4022cd80e472c7af67027409b1e","Node name for S&R":"LayerMask: SegformerUltraV2"},"widgets_values":["VITMatte",8,6,0.01,0.99,true,"cuda",2],"color":"rgba(27, 80, 119, 0.7)"},{"id":14,"type":"easy boolean","pos":[-280,1380],"size":[210,58],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[{"name":"boolean","localized_name":"boolean","type":"BOOLEAN","links":[20],"slot_index":0}],"properties":{"cnr_id":"comfyui-easy-use","ver":"1.2.7","Node name for S&R":"easy boolean"},"widgets_values":[false]},{"id":9,"type":"LayerUtility: CropByMask V2","pos":[-20,820],"size":[340.20001220703125,262],"flags":{},"order":6,"mode":0,"inputs":[{"name":"image","localized_name":"image","type":"IMAGE","link":26},{"name":"mask","localized_name":"mask","type":"MASK","link":9},{"name":"crop_box","localized_name":"crop_box","type":"BOX","shape":7,"link":null},{"name":"top_reserve","type":"INT","widget":{"name":"top_reserve"},"link":24},{"name":"bottom_reserve","type":"INT","widget":{"name":"bottom_reserve"},"link":25},{"name":"left_reserve","type":"INT","widget":{"name":"left_reserve"},"link":22},{"name":"right_reserve","type":"INT","widget":{"name":"right_reserve"},"link":23}],"outputs":[{"name":"croped_image","localized_name":"croped_image","type":"IMAGE","links":[29],"slot_index":0},{"name":"croped_mask","localized_name":"croped_mask","type":"MASK","links":[],"slot_index":1},{"name":"crop_box","localized_name":"crop_box","type":"BOX","links":[],"slot_index":2},{"name":"box_preview","localized_name":"box_preview","type":"IMAGE","links":[28],"slot_index":3}],"properties":{"cnr_id":"comfyui_layerstyle","ver":"7b326d13e43fc4022cd80e472c7af67027409b1e","Node name for S&R":"LayerUtility: CropByMask V2"},"widgets_values":[false,"mask_area",300,400,400,400,"16"],"color":"rgba(38, 73, 116, 0.7)"},{"id":17,"type":"LayerUtility: ImageScaleByAspectRatio V2","pos":[570,830],"size":[340,330],"flags":{},"order":7,"mode":0,"inputs":[{"name":"image","localized_name":"image","label":"image","type":"IMAGE","shape":7,"link":29},{"name":"mask","localized_name":"mask","label":"mask","type":"MASK","shape":7,"link":null}],"outputs":[{"name":"image","localized_name":"image","label":"image","type":"IMAGE","links":[],"slot_index":0},{"name":"mask","localized_name":"mask","label":"mask","type":"MASK","links":[],"slot_index":1},{"name":"original_size","localized_name":"original_size","label":"original_size","type":"BOX","links":null},{"name":"width","localized_name":"width","label":"width","type":"INT","links":[],"slot_index":3},{"name":"height","localized_name":"height","label":"height","type":"INT","links":[],"slot_index":4}],"properties":{"cnr_id":"comfyui_layerstyle","ver":"7b326d13e43fc4022cd80e472c7af67027409b1e","Node name for S&R":"LayerUtility: ImageScaleByAspectRatio V2"},"widgets_values":["original",1,1,"crop","lanczos","16","total_pixel(kilo pixel)",1024,"#000000"],"color":"rgba(38, 73, 116, 0.7)"}],"links":[[4,7,0,6,1,"SegPipeline"],[6,3,0,6,0,"IMAGE"],[9,6,1,9,1,"MASK"],[17,6,1,12,0,"MASK"],[18,12,4,13,0,"*"],[19,12,5,13,1,"*"],[20,14,0,13,2,"*"],[22,13,0,9,5,"INT"],[23,13,1,9,6,"INT"],[24,13,1,9,3,"INT"],[25,13,1,9,4,"INT"],[26,6,0,9,0,"IMAGE"],[28,9,3,16,0,"IMAGE"],[29,9,0,17,0,"IMAGE"]],"groups":[],"config":{},"extra":{"ds":{"scale":1.0610764609500758,"offset":[469.36077152502264,-580.9650648363369]},"node_versions":{"ComfyUI_LayerStyle":"7b326d13e43fc4022cd80e472c7af67027409b1e","comfy-core":"0.3.14","comfyui-kjnodes":"1.0.5"},"ue_links":[]},"version":0.4}