{"last_node_id":136,"last_link_id":282,"nodes":[{"id":81,"type":"Note","pos":[2040,-1460],"size":[302.8055114746094,96.11319732666016],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["更高的降噪值可以更改头发的颜色，但是可能会导致更高的随机性，controlnet 可以提高控制力，使降噪值上升到0.8以改变头发的颜色，虽然目前看，其实头发还是单独弄更好（因为始终原图会产生干扰）"],"color":"#432","bgcolor":"#653"},{"id":75,"type":"AIO_Preprocessor","pos":[1540,-990],"size":[315,82],"flags":{},"order":31,"mode":0,"inputs":[{"name":"image","label":"image","type":"IMAGE","link":273}],"outputs":[{"name":"IMAGE","label":"IMAGE","type":"IMAGE","links":[150,151],"slot_index":0}],"properties":{"cnr_id":"comfyui_controlnet_aux","ver":"1e9eac6377c882da8bb360c7544607036904362c","Node name for S&R":"AIO_Preprocessor"},"widgets_values":["OpenposePreprocessor",1024]},{"id":85,"type":"InpaintModelConditioning","pos":[1470,-240],"size":[315,138],"flags":{},"order":46,"mode":0,"inputs":[{"name":"positive","label":"positive","type":"CONDITIONING","link":170},{"name":"negative","label":"negative","type":"CONDITIONING","link":171},{"name":"vae","label":"vae","type":"VAE","link":174},{"name":"pixels","label":"pixels","type":"IMAGE","link":274},{"name":"mask","label":"mask","type":"MASK","link":280}],"outputs":[{"name":"positive","label":"positive","type":"CONDITIONING","links":[172],"slot_index":0},{"name":"negative","label":"negative","type":"CONDITIONING","links":[173],"slot_index":1},{"name":"latent","label":"latent","type":"LATENT","links":[175],"slot_index":2}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"InpaintModelConditioning"},"widgets_values":[true]},{"id":72,"type":"ControlNetApplyAdvanced","pos":[1540,-600],"size":[315,186],"flags":{},"order":45,"mode":0,"inputs":[{"name":"positive","label":"positive","type":"CONDITIONING","link":158},{"name":"negative","label":"negative","type":"CONDITIONING","link":159},{"name":"control_net","label":"control_net","type":"CONTROL_NET","link":148},{"name":"image","label":"image","type":"IMAGE","link":150},{"name":"vae","label":"vae","type":"VAE","shape":7,"link":153}],"outputs":[{"name":"positive","label":"positive","type":"CONDITIONING","links":[170],"slot_index":0},{"name":"negative","label":"negative","type":"CONDITIONING","links":[171],"slot_index":1}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"ControlNetApplyAdvanced"},"widgets_values":[0.8,0,0.4]},{"id":73,"type":"ControlNetLoader","pos":[1540,-850],"size":[310,70],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[{"name":"CONTROL_NET","label":"CONTROL_NET","type":"CONTROL_NET","shape":3,"links":[143],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"ControlNetLoader"},"widgets_values":["Shakker-Labs-FLUX.1-dev-ControlNet-Union-Pro.safetensors"],"color":"#223","bgcolor":"#335"},{"id":98,"type":"Note","pos":[1460,1200],"size":[210,60],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["is looked 可以打开缓存"],"color":"#432","bgcolor":"#653"},{"id":97,"type":"ImageScaleToTotalPixels","pos":[710,780],"size":[340.20001220703125,82],"flags":{},"order":21,"mode":0,"inputs":[{"name":"image","label":"image","type":"IMAGE","link":200}],"outputs":[{"name":"IMAGE","label":"IMAGE","type":"IMAGE","links":[188],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"ImageScaleToTotalPixels"},"widgets_values":["lanczos",0.2]},{"id":96,"type":"ImageScaleToTotalPixels","pos":[710,900],"size":[340.20001220703125,82],"flags":{},"order":32,"mode":0,"inputs":[{"name":"image","label":"image","type":"IMAGE","link":276}],"outputs":[{"name":"IMAGE","label":"IMAGE","type":"IMAGE","links":[189],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"ImageScaleToTotalPixels"},"widgets_values":["lanczos",0.2]},{"id":95,"type":"ImpactMakeImageBatch","pos":[1110,780],"size":[140,66],"flags":{},"order":35,"mode":0,"inputs":[{"name":"image1","label":"image1","type":"IMAGE","link":188},{"name":"image2","label":"image2","type":"IMAGE","link":189},{"name":"image3","label":"image3","type":"IMAGE","link":null}],"outputs":[{"name":"IMAGE","label":"IMAGE","type":"IMAGE","links":[208],"slot_index":0}],"properties":{"cnr_id":"comfyui-impact-pack","ver":"808b0dedf03534a2594ecb60a9d6305a044efdc2","Node name for S&R":"ImpactMakeImageBatch"},"widgets_values":[]},{"id":105,"type":"LayerUtility: TextBox","pos":[730,1070],"size":[400,200],"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[{"name":"text","label":"text","type":"STRING","links":[206],"slot_index":0}],"properties":{"cnr_id":"comfyui_layerstyle","ver":"7b326d13e43fc4022cd80e472c7af67027409b1e","Node name for S&R":"LayerUtility: TextBox"},"widgets_values":["你是一个提示词助手，用户是一个comfyui生图爱好者，目标是生成逼真的照片级图像。你的任务是根据用户的需求生成适合的生图英文提示词，自然语言格式即可，无需负面提示词。\n一般提示词模板：\nExample Prompt: A hyperrealistic portrait of a weathered sailor in his 60s, with deep-set blue eyes, a salt-and-pepper beard, and sun-weathered skin. He’s wearing a faded blue captain’s hat and a thick wool sweater. The background shows a misty harbor at dawn, with fishing boats barely visible in the distance.",[false,true]],"color":"rgba(38, 73, 116, 0.7)"},{"id":94,"type":"LLM_api_loader","pos":[960,580],"size":[315,130],"flags":{"collapsed":false},"order":4,"mode":0,"inputs":[],"outputs":[{"name":"model","label":"model","type":"CUSTOM","shape":3,"links":[191],"slot_index":0}],"properties":{"cnr_id":"comfyui_llm_party","ver":"ce7cc505bc0143a2c20e393f69ad7f653f0dc853","Node name for S&R":"LLM_api_loader"},"widgets_values":["claude-3-5-sonnet-20241022","","",false],"color":"#2a363b","bgcolor":"#3f5159"},{"id":67,"type":"UnetLoaderGGUF","pos":[-540,-840],"size":[315,58],"flags":{},"order":5,"mode":0,"inputs":[],"outputs":[{"name":"MODEL","label":"MODEL","type":"MODEL","links":[215],"slot_index":0}],"properties":{"aux_id":"city96/ComfyUI-GGUF","ver":"298192ed60f8ca821c6fe5f8030cae23424cada5","Node name for S&R":"UnetLoaderGGUF"},"widgets_values":["flux1-fill-dev-Q3_K_S.gguf"]},{"id":109,"type":"UnetLoaderGGUF","pos":[2800,-990],"size":[315,58],"flags":{},"order":6,"mode":0,"inputs":[],"outputs":[{"name":"MODEL","label":"MODEL","type":"MODEL","links":[217],"slot_index":0}],"properties":{"aux_id":"city96/ComfyUI-GGUF","ver":"298192ed60f8ca821c6fe5f8030cae23424cada5","Node name for S&R":"UnetLoaderGGUF"},"widgets_values":["flux1-dev-Q3_K_S.gguf"]},{"id":111,"type":"DifferentialDiffusion","pos":[2810,-870],"size":[277.20001220703125,26],"flags":{},"order":19,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":217}],"outputs":[{"name":"MODEL","type":"MODEL","links":[220],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"DifferentialDiffusion"},"widgets_values":[]},{"id":68,"type":"DualCLIPLoaderGGUF","pos":[-550,-730],"size":[315,106],"flags":{},"order":7,"mode":0,"inputs":[],"outputs":[{"name":"CLIP","label":"CLIP","type":"CLIP","links":[216,221],"slot_index":0}],"properties":{"aux_id":"city96/ComfyUI-GGUF","ver":"298192ed60f8ca821c6fe5f8030cae23424cada5","Node name for S&R":"DualCLIPLoaderGGUF"},"widgets_values":["t5xxl_fp8_e4m3fn.safetensors","clip_l.safetensors","flux"]},{"id":26,"type":"FluxGuidance","pos":[320,220],"size":[317.4000244140625,58],"flags":{"collapsed":false},"order":42,"mode":0,"inputs":[{"name":"conditioning","label":"conditioning","type":"CONDITIONING","link":41}],"outputs":[{"name":"CONDITIONING","label":"CONDITIONING","type":"CONDITIONING","shape":3,"links":[158],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"FluxGuidance"},"widgets_values":[30]},{"id":6,"type":"CLIPTextEncode","pos":[300,-70],"size":[370,220],"flags":{},"order":40,"mode":0,"inputs":[{"name":"clip","label":"clip","type":"CLIP","link":216},{"name":"text","label":"text","type":"STRING","widget":{"name":"text"},"link":211}],"outputs":[{"name":"CONDITIONING","label":"CONDITIONING","type":"CONDITIONING","links":[41,141,224],"slot_index":0}],"title":"CLIP Text Encode (Positive Prompt)","properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"CLIPTextEncode"},"widgets_values":["A side profile portrait of a young woman in her mid-20s with a subtle, gentle smile playing at the corners of her lips, creating a soft, natural expression. Her face shows a quiet confidence with delicate features, including a straight, refined nose and naturally arched eyebrows. Long, straight blonde hair flows elegantly down her back, with a silky, polished finish. Her complexion is smooth and radiant, with high cheekbones and a graceful jawline. The hint of a smile brings a warm, approachable quality to her serene profile, while maintaining an air of sophistication. Her almond-shaped eyes are framed by soft lashes, and there's a subtle sparkle in her expression that suggests contentment.",[false,true]]},{"id":71,"type":"ConditioningZeroOut","pos":[320,340],"size":[317.4000244140625,26],"flags":{},"order":43,"mode":0,"inputs":[{"name":"conditioning","label":"conditioning","type":"CONDITIONING","link":141}],"outputs":[{"name":"CONDITIONING","label":"CONDITIONING","type":"CONDITIONING","links":[159,232],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"ConditioningZeroOut"},"widgets_values":[]},{"id":114,"type":"FluxGuidance","pos":[3080,-790],"size":[317.4000244140625,58],"flags":{"collapsed":false},"order":44,"mode":0,"inputs":[{"name":"conditioning","label":"conditioning","type":"CONDITIONING","link":224}],"outputs":[{"name":"CONDITIONING","label":"CONDITIONING","type":"CONDITIONING","shape":3,"links":[231],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"FluxGuidance"},"widgets_values":[4]},{"id":53,"type":"PulidFluxInsightFaceLoader","pos":[490,-800],"size":[322.71392822265625,58],"flags":{},"order":8,"mode":0,"inputs":[],"outputs":[{"name":"FACEANALYSIS","label":"FACEANALYSIS","type":"FACEANALYSIS","shape":3,"links":[124,237],"slot_index":0}],"properties":{"aux_id":"sipie800/ComfyUI-PuLID-Flux-Enhanced","ver":"04e1b52320f1f14383afe18959349703623c5b88","Node name for S&R":"PulidFluxInsightFaceLoader"},"widgets_values":["CPU"]},{"id":51,"type":"PulidFluxEvaClipLoader","pos":[450,-880],"size":[327.5999755859375,26],"flags":{},"order":9,"mode":0,"inputs":[],"outputs":[{"name":"EVA_CLIP","label":"EVA_CLIP","type":"EVA_CLIP","shape":3,"links":[123,238],"slot_index":0}],"properties":{"aux_id":"sipie800/ComfyUI-PuLID-Flux-Enhanced","ver":"04e1b52320f1f14383afe18959349703623c5b88","Node name for S&R":"PulidFluxEvaClipLoader"},"widgets_values":[]},{"id":45,"type":"PulidFluxModelLoader","pos":[490,-980],"size":[315,58],"flags":{},"order":10,"mode":0,"inputs":[],"outputs":[{"name":"PULIDFLUX","label":"PULIDFLUX","type":"PULIDFLUX","shape":3,"links":[125,239],"slot_index":0}],"properties":{"aux_id":"sipie800/ComfyUI-PuLID-Flux-Enhanced","ver":"04e1b52320f1f14383afe18959349703623c5b88","Node name for S&R":"PulidFluxModelLoader"},"widgets_values":["pulid_flux_v0.9.1.safetensors"]},{"id":110,"type":"LoraLoader","pos":[3190,-970],"size":[315,126],"flags":{},"order":24,"mode":0,"inputs":[{"name":"model","label":"model","type":"MODEL","link":220},{"name":"clip","label":"clip","type":"CLIP","link":221}],"outputs":[{"name":"MODEL","label":"MODEL","type":"MODEL","links":[240],"slot_index":0},{"name":"CLIP","label":"CLIP","type":"CLIP","links":[],"slot_index":1}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"LoraLoader"},"widgets_values":["XLabs-AI-flux-RealismLora.safetensors",1,1]},{"id":10,"type":"VAELoader","pos":[-170,-920],"size":[311.81634521484375,60.429901123046875],"flags":{},"order":11,"mode":0,"inputs":[],"outputs":[{"name":"VAE","label":"VAE","type":"VAE","shape":3,"links":[88,153,174,233,244],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"VAELoader"},"widgets_values":["ae.safetensors"]},{"id":115,"type":"InpaintModelConditioning","pos":[3700,-800],"size":[315,138],"flags":{},"order":50,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":231},{"name":"negative","type":"CONDITIONING","link":232},{"name":"vae","type":"VAE","link":233},{"name":"pixels","type":"IMAGE","link":249},{"name":"mask","type":"MASK","link":236}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[229],"slot_index":0},{"name":"negative","type":"CONDITIONING","links":[230],"slot_index":1},{"name":"latent","type":"LATENT","links":[228],"slot_index":2}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"InpaintModelConditioning"},"widgets_values":[true]},{"id":49,"type":"VAEDecode","pos":[2230.960205078125,-256.073974609375],"size":[210,46],"flags":{},"order":48,"mode":0,"inputs":[{"name":"samples","label":"samples","type":"LATENT","link":152},{"name":"vae","label":"vae","type":"VAE","link":88}],"outputs":[{"name":"IMAGE","label":"IMAGE","type":"IMAGE","shape":3,"links":[89,249],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"VAEDecode"},"widgets_values":[]},{"id":123,"type":"MaskBoundingBox+","pos":[-1280,1330],"size":[210,182],"flags":{},"order":25,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":271},{"name":"image_optional","type":"IMAGE","shape":7,"link":null}],"outputs":[{"name":"MASK","type":"MASK","links":[],"slot_index":0},{"name":"IMAGE","type":"IMAGE","links":[],"slot_index":1},{"name":"x","type":"INT","links":[],"slot_index":2},{"name":"y","type":"INT","links":[],"slot_index":3},{"name":"width","type":"INT","links":[257],"slot_index":4},{"name":"height","type":"INT","links":[258],"slot_index":5}],"properties":{"cnr_id":"comfyui_essentials","ver":"33ff89fd354d8ec3ab6affb605a79a931b445d99","Node name for S&R":"MaskBoundingBox+"},"widgets_values":[0,0]},{"id":126,"type":"easy boolean","pos":[-1280,1560],"size":[210,58],"flags":{},"order":12,"mode":0,"inputs":[],"outputs":[{"name":"boolean","type":"BOOLEAN","links":[259],"slot_index":0}],"properties":{"cnr_id":"comfyui-easy-use","ver":"1.2.7","Node name for S&R":"easy boolean"},"widgets_values":[false]},{"id":69,"type":"LoadImage","pos":[40,530],"size":[268.72613525390625,344.921142578125],"flags":{},"order":13,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","label":"IMAGE","type":"IMAGE","links":[137,200,242],"slot_index":0},{"name":"MASK","label":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"LoadImage"},"widgets_values":["AIO (1).png","image"]},{"id":128,"type":"LayerUtility: ImageScaleByAspectRatio V2","pos":[-350,910],"size":[340,330],"flags":{},"order":29,"mode":0,"inputs":[{"name":"image","label":"image","type":"IMAGE","shape":7,"link":256},{"name":"mask","label":"mask","type":"MASK","shape":7,"link":279}],"outputs":[{"name":"image","label":"image","type":"IMAGE","links":[273,274,275,276],"slot_index":0},{"name":"mask","label":"mask","type":"MASK","links":[278],"slot_index":1},{"name":"original_size","label":"original_size","type":"BOX","links":null},{"name":"width","label":"width","type":"INT","links":[],"slot_index":3},{"name":"height","label":"height","type":"INT","links":[],"slot_index":4}],"properties":{"cnr_id":"comfyui_layerstyle","ver":"7b326d13e43fc4022cd80e472c7af67027409b1e","Node name for S&R":"LayerUtility: ImageScaleByAspectRatio V2"},"widgets_values":["original",1,1,"crop","lanczos","16","total_pixel(kilo pixel)",1024,"#000000"],"color":"rgba(38, 73, 116, 0.7)"},{"id":122,"type":"LoadImage","pos":[-1960,820],"size":[315,314],"flags":{},"order":14,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[267],"slot_index":0},{"name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"LoadImage"},"widgets_values":["LSD138K01-A+2-5.jpg","image"]},{"id":119,"type":"PreviewImage","pos":[4230,-320],"size":[210,246],"flags":{},"order":53,"mode":4,"inputs":[{"name":"images","type":"IMAGE","link":245}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":118,"type":"VAEDecode","pos":[3860,-370],"size":[210,46],"flags":{},"order":52,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":243},{"name":"vae","type":"VAE","link":244}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[245,248,272],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"VAEDecode"},"widgets_values":[]},{"id":131,"type":"SaveImage","pos":[4200,-10],"size":[315,270],"flags":{},"order":55,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":272}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"SaveImage"},"widgets_values":["ComfyUI"]},{"id":127,"type":"LayerUtility: CropByMask V2","pos":[-950,980],"size":[340.20001220703125,262],"flags":{},"order":28,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":269},{"name":"mask","type":"MASK","link":270},{"name":"crop_box","type":"BOX","shape":7,"link":null},{"name":"top_reserve","type":"INT","widget":{"name":"top_reserve"},"link":262},{"name":"bottom_reserve","type":"INT","widget":{"name":"bottom_reserve"},"link":263},{"name":"left_reserve","type":"INT","widget":{"name":"left_reserve"},"link":260},{"name":"right_reserve","type":"INT","widget":{"name":"right_reserve"},"link":261}],"outputs":[{"name":"croped_image","type":"IMAGE","links":[256],"slot_index":0},{"name":"croped_mask","type":"MASK","links":[279],"slot_index":1},{"name":"crop_box","type":"BOX","links":[],"slot_index":2},{"name":"box_preview","type":"IMAGE","links":[251],"slot_index":3}],"properties":{"cnr_id":"comfyui_layerstyle","ver":"7b326d13e43fc4022cd80e472c7af67027409b1e","Node name for S&R":"LayerUtility: CropByMask V2"},"widgets_values":[false,"mask_area",300,400,400,400,"16"],"color":"rgba(38, 73, 116, 0.7)"},{"id":99,"type":"LLM","pos":[1330,620],"size":[392.7198181152344,576],"flags":{},"order":37,"mode":0,"inputs":[{"name":"model","label":"model","type":"CUSTOM","link":191},{"name":"images","label":"images","type":"IMAGE","shape":7,"link":208},{"name":"system_prompt_input","label":"system_prompt_input","type":"STRING","widget":{"name":"system_prompt_input"},"link":null},{"name":"system_prompt_input","label":"system_prompt_input","type":"STRING","shape":7,"widget":{"name":"user_prompt_input"},"link":null},{"name":"user_prompt_input","label":"user_prompt_input","type":"STRING","shape":7,"widget":{"name":"tools"},"link":null},{"name":"tools","label":"tools","type":"STRING","shape":7,"widget":{"name":"file_content"},"link":null},{"name":"extra_parameters","label":"extra_parameters","type":"DICT","shape":7,"link":null},{"name":"user_history","label":"user_history","type":"STRING","shape":7,"widget":{"name":"user_history"},"link":null},{"name":"img_URL","label":"img_URL","type":"STRING","shape":7,"widget":{"name":"img_URL"},"link":null},{"name":"extra_parameters","label":"extra_parameters","type":"DICT","shape":7,"link":null},{"name":"system_prompt","label":"system_prompt","type":"STRING","widget":{"name":"system_prompt"},"link":206},{"name":"user_prompt","label":"user_prompt","type":"STRING","widget":{"name":"user_prompt"},"link":210}],"outputs":[{"name":"assistant_response","label":"assistant_response","type":"STRING","shape":3,"links":[182,187,211],"slot_index":0},{"name":"history","label":"history","type":"STRING","shape":3,"links":null},{"name":"tool","label":"tool","type":"STRING","shape":3,"links":null},{"name":"image","label":"image","type":"IMAGE","shape":3,"links":null}],"properties":{"cnr_id":"comfyui_llm_party","ver":"ce7cc505bc0143a2c20e393f69ad7f653f0dc853","Node name for S&R":"LLM"},"widgets_values":["","",0.7000000000000001,"disable","disable","enable","enable",1920,"","","","","",100,"",true,"","",[false,true],[false,true]]},{"id":70,"type":"KSampler","pos":[1820,-280],"size":[315,474],"flags":{},"order":47,"mode":0,"inputs":[{"name":"model","label":"model","type":"MODEL","link":139},{"name":"positive","label":"positive","type":"CONDITIONING","link":172},{"name":"negative","label":"negative","type":"CONDITIONING","link":173},{"name":"latent_image","label":"latent_image","type":"LATENT","link":175}],"outputs":[{"name":"LATENT","label":"LATENT","type":"LATENT","links":[152],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"KSampler"},"widgets_values":[497254498403944,"randomize",20,1,"euler","beta",0.9500000000000001]},{"id":120,"type":"Image Comparer (rgthree)","pos":[3680,-270],"size":[470,350],"flags":{},"order":54,"mode":4,"inputs":[{"name":"image_a","type":"IMAGE","dir":3,"link":248},{"name":"image_b","type":"IMAGE","dir":3,"link":275}],"outputs":[],"properties":{"cnr_id":"rgthree-comfy","ver":"32142fe476878a354dda6e2d4b5ea98960de3ced","comparer_mode":"Slide"},"widgets_values":[[{"name":"A","selected":true,"url":"/api/view?filename=rgthree.compare._temp_tzlvt_00017_.png&type=temp&subfolder=&rand=0.3591171919600875"},{"name":"B","selected":true,"url":"/api/view?filename=rgthree.compare._temp_tzlvt_00018_.png&type=temp&subfolder=&rand=0.5580256394948042"}]]},{"id":50,"type":"PreviewImage","pos":[3280,-290],"size":[354.3118591308594,426.8742370605469],"flags":{},"order":49,"mode":4,"inputs":[{"name":"images","label":"images","type":"IMAGE","link":89}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":129,"type":"FL_CodeNode","pos":[-970,1410],"size":[570,500],"flags":{"collapsed":true},"order":27,"mode":0,"inputs":[{"name":"0_width","type":"INT","link":257},{"name":"1_height","type":"INT","link":258},{"name":"2_boolean","type":"BOOLEAN","link":259},{"name":"input","type":"*","link":null}],"outputs":[{"name":"output_0","type":"*","links":[260,261],"slot_index":0},{"name":"output_1","type":"*","links":[262,263],"slot_index":1},{"name":"output_2","type":"*","links":null},{"name":"output_3","type":"*","links":null}],"properties":{"cnr_id":"comfyui_fill-nodes","ver":"1.1.1","Node name for S&R":"FL_CodeNode"},"widgets_values":["def runcode(var1, var2, var3):\n    # var1: 宽度, var2: 高度, var3: 布尔值\n    weight = 0  # 宽度增量\n    height = 0  # 高度增量\n\n    if not var3:  # 布尔值为False时，各边均匀扩展1/2\n        weight = round(var1/3)  # 宽度增加原宽度的1/2\n        height = round(var2/3)  # 高度增加原高度的1/2\n    else:  # 布尔值为True时\n        if var1 > var2:  # 宽度大于高度\n            weight = round(var1/3)  # 长边只需扩展1/2\n            height = round(var1/3 + (var1-var2)/2)  # 短边需要补偿\n        elif var1 < var2:  # 高度大于宽度\n            weight = round(var2/3 + (var2-var1)/2)  # 短边需要补偿\n            height = round(var2/3)  # 长边只需扩展1/2\n        else:  # 正方形\n            weight = height = round(var1/3)\n\n    return (weight ,height)\n\n# 使用inputs和outputs字典\noutputs[0], outputs[1] = runcode(inputs[0], inputs[1], inputs[2])\n","./res/hello.py",false],"color":"#16727c","bgcolor":"#4F0074"},{"id":113,"type":"KSampler","pos":[4120,-850],"size":[315,474],"flags":{},"order":51,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":241},{"name":"positive","type":"CONDITIONING","link":229},{"name":"negative","type":"CONDITIONING","link":230},{"name":"latent_image","type":"LATENT","link":228}],"outputs":[{"name":"LATENT","type":"LATENT","links":[243],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"KSampler"},"widgets_values":[225269751868105,"randomize",20,1,"euler","simple",0.3]},{"id":74,"type":"SetUnionControlNetType","pos":[1560,-740],"size":[315,58],"flags":{},"order":18,"mode":0,"inputs":[{"name":"control_net","label":"control_net","type":"CONTROL_NET","link":143}],"outputs":[{"name":"CONTROL_NET","label":"CONTROL_NET","type":"CONTROL_NET","shape":3,"links":[148],"slot_index":0}],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"SetUnionControlNetType"},"widgets_values":["openpose"],"color":"#223","bgcolor":"#335"},{"id":116,"type":"GrowMaskWithBlur","pos":[870,160],"size":[315,246],"flags":{},"order":33,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":278}],"outputs":[{"name":"mask","type":"MASK","links":[236,280,281],"slot_index":0},{"name":"mask_inverted","type":"MASK","links":null}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"1.0.6","Node name for S&R":"GrowMaskWithBlur"},"widgets_values":[40,0,true,false,20,1,1,false]},{"id":133,"type":"MaskPreview+","pos":[1330,280],"size":[210,246],"flags":{},"order":36,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":281}],"outputs":[],"properties":{"cnr_id":"comfyui_essentials","ver":"33ff89fd354d8ec3ab6affb605a79a931b445d99","Node name for S&R":"MaskPreview+"},"widgets_values":[]},{"id":130,"type":"LayerMask: SegmentAnythingUltra V2","pos":[-1560,820],"size":[410,366],"flags":{},"order":22,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":267}],"outputs":[{"name":"image","type":"IMAGE","links":[269],"slot_index":0},{"name":"mask","type":"MASK","links":[270,271],"slot_index":1}],"properties":{"aux_id":"chflame163/ComfyUI_LayerStyle_Advance","ver":"8e30d7d64f879928af812a8aa6de02c8524bdb9d","Node name for S&R":"LayerMask: SegmentAnythingUltra V2"},"widgets_values":["sam_hq_vit_h (2.57GB)","GroundingDINO_SwinT_OGC (694MB)",0.3,"VITMatte",1,6,0.15,0.99,true,"face,hair","cpu",2,true],"color":"rgba(27, 80, 119, 0.7)"},{"id":135,"type":"LayerMask: LoadSegmentAnythingModels","pos":[-2010,520],"size":[592.199951171875,82],"flags":{},"order":15,"mode":2,"inputs":[],"outputs":[{"name":"sam_models","type":"LS_SAM_MODELS","links":[282]}],"properties":{"aux_id":"chflame163/ComfyUI_LayerStyle_Advance","ver":"8e30d7d64f879928af812a8aa6de02c8524bdb9d","Node name for S&R":"LayerMask: LoadSegmentAnythingModels"},"widgets_values":["sam_vit_h (2.56GB)","GroundingDINO_SwinT_OGC (694MB)"],"color":"rgba(27, 80, 119, 0.7)"},{"id":134,"type":"LayerMask: SegmentAnythingUltra V3","pos":[-1280,410],"size":[361.20001220703125,294],"flags":{},"order":23,"mode":4,"inputs":[{"name":"image","type":"IMAGE","link":null},{"name":"sam_models","type":"LS_SAM_MODELS","link":282}],"outputs":[{"name":"image","type":"IMAGE","links":null},{"name":"mask","type":"MASK","links":null}],"properties":{"aux_id":"chflame163/ComfyUI_LayerStyle_Advance","ver":"8e30d7d64f879928af812a8aa6de02c8524bdb9d","Node name for S&R":"LayerMask: SegmentAnythingUltra V3"},"widgets_values":[0.3,"VITMatte",6,6,0.15,0.99,true,"hair","cpu",2],"color":"rgba(27, 80, 119, 0.7)"},{"id":77,"type":"PreviewImage","pos":[1910,-1020],"size":[291.5237731933594,270.8479919433594],"flags":{"collapsed":false},"order":34,"mode":4,"inputs":[{"name":"images","label":"images","type":"IMAGE","link":151}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":117,"type":"ApplyPulidFlux","pos":[3700,-1220],"size":[284.8069763183594,346],"flags":{},"order":26,"mode":0,"inputs":[{"name":"model","label":"model","type":"MODEL","link":240},{"name":"pulid_flux","label":"pulid_flux","type":"PULIDFLUX","link":239},{"name":"eva_clip","label":"eva_clip","type":"EVA_CLIP","link":238},{"name":"face_analysis","label":"face_analysis","type":"FACEANALYSIS","link":237},{"name":"image","label":"image","type":"IMAGE","link":242},{"name":"attn_mask","label":"attn_mask","type":"MASK","shape":7,"link":null},{"name":"prior_image","label":"prior_image","type":"IMAGE","shape":7,"link":null}],"outputs":[{"name":"MODEL","label":"MODEL","type":"MODEL","shape":3,"links":[241],"slot_index":0}],"properties":{"aux_id":"sipie800/ComfyUI-PuLID-Flux-Enhanced","ver":"04e1b52320f1f14383afe18959349703623c5b88","Node name for S&R":"ApplyPulidFlux"},"widgets_values":[1,0.4,1,"mean",1,0,1000,false]},{"id":62,"type":"ApplyPulidFlux","pos":[1030,-950],"size":[284.8069763183594,346],"flags":{},"order":20,"mode":0,"inputs":[{"name":"model","label":"model","type":"MODEL","link":215},{"name":"pulid_flux","label":"pulid_flux","type":"PULIDFLUX","link":125},{"name":"eva_clip","label":"eva_clip","type":"EVA_CLIP","link":123},{"name":"face_analysis","label":"face_analysis","type":"FACEANALYSIS","link":124},{"name":"image","label":"image","type":"IMAGE","link":137},{"name":"attn_mask","label":"attn_mask","type":"MASK","shape":7,"link":null},{"name":"prior_image","label":"prior_image","type":"IMAGE","shape":7,"link":null}],"outputs":[{"name":"MODEL","label":"MODEL","type":"MODEL","shape":3,"links":[139],"slot_index":0}],"properties":{"aux_id":"sipie800/ComfyUI-PuLID-Flux-Enhanced","ver":"04e1b52320f1f14383afe18959349703623c5b88","Node name for S&R":"ApplyPulidFlux"},"widgets_values":[0.2,0.1,1,"mean",1,0,1000,true]},{"id":124,"type":"PreviewImage","pos":[-540,1240],"size":[210,246],"flags":{},"order":30,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":251}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":88,"type":"ShowText|pysssss","pos":[1790,1180],"size":[450,250],"flags":{},"order":41,"mode":0,"inputs":[{"name":"text","label":"text","type":"STRING","widget":{"name":"text"},"link":181}],"outputs":[{"name":"STRING","label":"STRING","type":"STRING","shape":6,"links":null}],"properties":{"cnr_id":"comfyui-custom-scripts","ver":"bbda5e52ad580c13ceaa53136d9c2bed9137bd2e","Node name for S&R":"ShowText|pysssss"},"widgets_values":["","A 28-year-old handsome Caucasian male model in profile view, facing left side, wearing black professional headphones. He has styled brown hair swept upward, strong jawline, and defined cheekbones characteristic of European features. His expression shows a subtle, gentle smile. He's wearing a crisp white dress shirt and has clear, bright eyes gazing thoughtfully to the left. The background is a neutral beige wall, creating a professional studio atmosphere. The lighting is soft and even, highlighting his facial features perfectly."]},{"id":89,"type":"GoogleTranslateTextNode","pos":[1810,960],"size":[218.39999389648438,172],"flags":{},"order":38,"mode":4,"inputs":[{"name":"text","label":"text","type":"STRING","widget":{"name":"text"},"link":182}],"outputs":[{"name":"text","label":"text","type":"STRING","links":[181],"slot_index":0}],"properties":{"cnr_id":"comfyui_custom_nodes_alekpet","ver":"7f4d0878bbc1a00636f771e841c4928767efdb82","Node name for S&R":"GoogleTranslateTextNode"},"widgets_values":["auto","zh-cn",false,"Manual Trasnlate","",[false,true]]},{"id":106,"type":"LayerUtility: TextBox","pos":[560,1340],"size":[530,220],"flags":{},"order":17,"mode":0,"inputs":[],"outputs":[{"name":"text","label":"text","type":"STRING","links":[210],"slot_index":0}],"properties":{"cnr_id":"comfyui_layerstyle","ver":"7b326d13e43fc4022cd80e472c7af67027409b1e","Node name for S&R":"LayerUtility: TextBox"},"widgets_values":["图1 是我们的美国模特的正面照，图2 是我们的工作人员。\n你需要按图1的脸部特征，图2的姿势着装来生成提示词，也就是说图1的美国模特变成了图2那样的姿势、着装和动作，头发的颜色要参考我们的模特，你需要特别注意添加关于“头发的颜色”“头部的朝向”“眼睛的朝向”的提示，此外，需要注意我们的模特是28岁的青年美国模特，需要强调欧美的脸部特征，此外提示词还需要表现模特非常浅浅的微笑。\n更详细的说明：\n1.头发的颜色，按照图1。\n2.头发的造型，如果是女士，通常是柔顺的长发；如果是男士，则参考图1的模特。\n3.脸部的特征，按照图1模特的脸部特征，欧美人典型的脸部。\n4.姿势、着装、背景按照图2。\n5.需要根据图2的画面来描述脸部的朝向以及眼睛看的方向。\n\n你只需要返回详细的提示词，无需任何额外回复，无需解释，无需特殊格式。",[false,true]],"color":"rgba(38, 73, 116, 0.7)"},{"id":93,"type":"show_text_party","pos":[1830,610],"size":[454.6876220703125,290.2985534667969],"flags":{},"order":39,"mode":0,"inputs":[{"name":"text","label":"text","type":"STRING","widget":{"name":"text"},"link":187}],"outputs":[{"name":"STRING","label":"STRING","type":"STRING","shape":6,"links":null,"slot_index":0}],"properties":{"cnr_id":"comfyui_llm_party","ver":"ce7cc505bc0143a2c20e393f69ad7f653f0dc853","Node name for S&R":"show_text_party"},"widgets_values":["","A 28-year-old handsome Caucasian male model in profile view, facing left side, wearing black professional headphones. He has styled brown hair swept upward, strong jawline, and defined cheekbones characteristic of European features. His expression shows a subtle, gentle smile. He's wearing a crisp white dress shirt and has clear, bright eyes gazing thoughtfully to the left. The background is a neutral beige wall, creating a professional studio atmosphere. The lighting is soft and even, highlighting his facial features perfectly."],"color":"#233","bgcolor":"#355"},{"id":107,"type":"LayerUtility: TextBox","pos":[1230,1340],"size":[530,220],"flags":{},"order":16,"mode":0,"inputs":[],"outputs":[{"name":"text","label":"text","type":"STRING","links":[],"slot_index":0}],"properties":{"cnr_id":"comfyui_layerstyle","ver":"7b326d13e43fc4022cd80e472c7af67027409b1e","Node name for S&R":"LayerUtility: TextBox"},"widgets_values":["描述图2，特别是头部的方向\n\n这个脸部朝向反推的提示词总是不对，例如图像上脸朝右，它反推的是朝左，无语了",[false,true]],"color":"rgba(38, 73, 116, 0.7)"}],"links":[[41,6,0,26,0,"CONDITIONING"],[88,10,0,49,1,"VAE"],[89,49,0,50,0,"IMAGE"],[123,51,0,62,2,"EVA_CLIP"],[124,53,0,62,3,"FACEANALYSIS"],[125,45,0,62,1,"PULIDFLUX"],[137,69,0,62,4,"IMAGE"],[139,62,0,70,0,"MODEL"],[141,6,0,71,0,"CONDITIONING"],[143,73,0,74,0,"CONTROL_NET"],[148,74,0,72,2,"CONTROL_NET"],[150,75,0,72,3,"IMAGE"],[151,75,0,77,0,"IMAGE"],[152,70,0,49,0,"LATENT"],[153,10,0,72,4,"VAE"],[158,26,0,72,0,"CONDITIONING"],[159,71,0,72,1,"CONDITIONING"],[170,72,0,85,0,"CONDITIONING"],[171,72,1,85,1,"CONDITIONING"],[172,85,0,70,1,"CONDITIONING"],[173,85,1,70,2,"CONDITIONING"],[174,10,0,85,2,"VAE"],[175,85,2,70,3,"LATENT"],[181,89,0,88,0,"STRING"],[182,99,0,89,0,"STRING"],[187,99,0,93,0,"STRING"],[188,97,0,95,0,"IMAGE"],[189,96,0,95,1,"IMAGE"],[191,94,0,99,0,"CUSTOM"],[200,69,0,97,0,"IMAGE"],[206,105,0,99,10,"STRING"],[208,95,0,99,1,"IMAGE"],[210,106,0,99,11,"STRING"],[211,99,0,6,1,"STRING"],[215,67,0,62,0,"MODEL"],[216,68,0,6,0,"CLIP"],[217,109,0,111,0,"MODEL"],[220,111,0,110,0,"MODEL"],[221,68,0,110,1,"CLIP"],[224,6,0,114,0,"CONDITIONING"],[228,115,2,113,3,"LATENT"],[229,115,0,113,1,"CONDITIONING"],[230,115,1,113,2,"CONDITIONING"],[231,114,0,115,0,"CONDITIONING"],[232,71,0,115,1,"CONDITIONING"],[233,10,0,115,2,"VAE"],[236,116,0,115,4,"MASK"],[237,53,0,117,3,"FACEANALYSIS"],[238,51,0,117,2,"EVA_CLIP"],[239,45,0,117,1,"PULIDFLUX"],[240,110,0,117,0,"MODEL"],[241,117,0,113,0,"MODEL"],[242,69,0,117,4,"IMAGE"],[243,113,0,118,0,"LATENT"],[244,10,0,118,1,"VAE"],[245,118,0,119,0,"IMAGE"],[248,118,0,120,0,"IMAGE"],[249,49,0,115,3,"IMAGE"],[251,127,3,124,0,"IMAGE"],[256,127,0,128,0,"IMAGE"],[257,123,4,129,0,"*"],[258,123,5,129,1,"*"],[259,126,0,129,2,"*"],[260,129,0,127,5,"INT"],[261,129,0,127,6,"INT"],[262,129,1,127,3,"INT"],[263,129,1,127,4,"INT"],[267,122,0,130,0,"IMAGE"],[269,130,0,127,0,"IMAGE"],[270,130,1,127,1,"MASK"],[271,130,1,123,0,"MASK"],[272,118,0,131,0,"IMAGE"],[273,128,0,75,0,"IMAGE"],[274,128,0,85,3,"IMAGE"],[275,128,0,120,1,"IMAGE"],[276,128,0,96,0,"IMAGE"],[278,128,1,116,0,"MASK"],[279,127,1,128,1,"MASK"],[280,116,0,85,4,"MASK"],[281,116,0,133,0,"MASK"],[282,135,0,134,1,"LS_SAM_MODELS"]],"groups":[{"id":1,"title":"自动提示词","bounding":[260,460,2070,1630],"color":"#3f789e","font_size":24,"flags":{}},{"id":2,"title":"Group","bounding":[-640,-1320,3410,1750],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":0.1978446689001351,"offset":{"0":2558.798583984375,"1":1596.30615234375}},"node_versions":{"ComfyUI-PuLID-Flux-Enhanced":"afc9705e11ec9095bfbca96e6c1c9b06835cec82","comfy-core":"0.3.13","comfyui_controlnet_aux":"5a049bde9cc117dafc327cded156459289097ea1","ComfyUI-GGUF":"5875c52f59baca3a9372d68c43a3775e21846fe0"},"ue_links":[]},"version":0.4}