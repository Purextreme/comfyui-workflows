{"last_node_id":27,"last_link_id":38,"nodes":[{"id":5,"type":"PreviewImage","pos":[1798.90625,405.8291931152344],"size":[210,246],"flags":{},"order":9,"mode":4,"inputs":[{"name":"images","type":"IMAGE","link":7}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":1,"type":"LoadImage","pos":[929.0711059570312,17.702163696289062],"size":[315,314],"flags":{},"order":0,"mode":4,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1,4,8],"slot_index":0},{"name":"MASK","type":"MASK","links":[5],"slot_index":1}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["clipspace/clipspace-mask-29154702.1.png [input]","image"]},{"id":7,"type":"PreviewImage","pos":[2696.9921875,250.4980926513672],"size":[210,246],"flags":{},"order":14,"mode":4,"inputs":[{"name":"images","type":"IMAGE","link":11}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":2,"type":"ImageCropByMaskAndResize","pos":[1365.5009765625,-85.74624633789062],"size":[365.4000244140625,170],"flags":{},"order":3,"mode":4,"inputs":[{"name":"image","type":"IMAGE","link":1},{"name":"mask","type":"MASK","link":null}],"outputs":[{"name":"images","type":"IMAGE","links":[],"slot_index":0},{"name":"masks","type":"MASK","links":[],"slot_index":1},{"name":"bbox","type":"BBOX","links":null}],"properties":{"Node name for S&R":"ImageCropByMaskAndResize"},"widgets_values":[1024,0,1024,1024]},{"id":6,"type":"LayerUtility: RestoreCropBox","pos":[2279.340087890625,58.3663330078125],"size":[352.79998779296875,118],"flags":{},"order":8,"mode":4,"inputs":[{"name":"background_image","type":"IMAGE","link":8},{"name":"croped_image","type":"IMAGE","link":9},{"name":"crop_box","type":"BOX","link":10},{"name":"croped_mask","type":"MASK","shape":7,"link":null}],"outputs":[{"name":"image","type":"IMAGE","links":[11],"slot_index":0},{"name":"mask","type":"MASK","links":null}],"properties":{"Node name for S&R":"LayerUtility: RestoreCropBox"},"widgets_values":[false],"color":"rgba(38, 73, 116, 0.7)"},{"id":4,"type":"LayerUtility: CropByMask V2","pos":[1387.1209716796875,142.24488830566406],"size":[340.20001220703125,262],"flags":{},"order":4,"mode":4,"inputs":[{"name":"image","type":"IMAGE","link":4},{"name":"mask","type":"MASK","link":5},{"name":"crop_box","type":"BOX","shape":7,"link":null}],"outputs":[{"name":"croped_image","type":"IMAGE","links":[6,9,12],"slot_index":0},{"name":"croped_mask","type":"MASK","links":null},{"name":"crop_box","type":"BOX","links":[10],"slot_index":2},{"name":"box_preview","type":"IMAGE","links":[7],"slot_index":3}],"properties":{"Node name for S&R":"LayerUtility: CropByMask V2"},"widgets_values":[false,"mask_area",100,100,100,100,"8"],"color":"rgba(38, 73, 116, 0.7)"},{"id":9,"type":"MaskPreview+","pos":[2580.633056640625,-245.01014709472656],"size":[210,246],"flags":{},"order":13,"mode":4,"inputs":[{"name":"mask","type":"MASK","link":13}],"outputs":[],"properties":{"Node name for S&R":"MaskPreview+"},"widgets_values":[]},{"id":8,"type":"LayerMask: SegmentAnythingUltra V2","pos":[1970.942138671875,-356.6510009765625],"size":[541.800048828125,366],"flags":{},"order":7,"mode":4,"inputs":[{"name":"image","type":"IMAGE","link":12}],"outputs":[{"name":"image","type":"IMAGE","links":null},{"name":"mask","type":"MASK","links":[13],"slot_index":1}],"properties":{"Node name for S&R":"LayerMask: SegmentAnythingUltra V2"},"widgets_values":["sam_vit_h (2.56GB)","GroundingDINO_SwinT_OGC (694MB)",0.3,"VITMatte",6,6,0.15,0.99,true,"cat","cuda",2,false],"color":"rgba(27, 80, 119, 0.7)"},{"id":10,"type":"LayerUtility: CropByMask V2","pos":[2180,-1070],"size":[340.20001220703125,262],"flags":{},"order":20,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":14},{"name":"mask","type":"MASK","link":36},{"name":"crop_box","type":"BOX","shape":7,"link":null},{"name":"bottom_reserve","type":"INT","widget":{"name":"bottom_reserve"},"link":16},{"name":"left_reserve","type":"INT","widget":{"name":"left_reserve"},"link":17},{"name":"top_reserve","type":"INT","widget":{"name":"top_reserve"},"link":18},{"name":"right_reserve","type":"INT","widget":{"name":"right_reserve"},"link":19}],"outputs":[{"name":"croped_image","type":"IMAGE","links":[21],"slot_index":0},{"name":"croped_mask","type":"MASK","links":[],"slot_index":1},{"name":"crop_box","type":"BOX","links":[],"slot_index":2},{"name":"box_preview","type":"IMAGE","links":[20],"slot_index":3}],"properties":{"Node name for S&R":"LayerUtility: CropByMask V2"},"widgets_values":[false,"mask_area",400,400,400,400,"8"],"color":"rgba(38, 73, 116, 0.7)"},{"id":11,"type":"PreviewImage","pos":[2610,-770],"size":[210,246],"flags":{},"order":22,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":20}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":12,"type":"PreviewImage","pos":[2610,-1070],"size":[210,246],"flags":{},"order":21,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":21}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":15,"type":"Get resolution [Crystools]","pos":[1600,-880],"size":[214.20001220703125,96],"flags":{},"order":15,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":24}],"outputs":[{"name":"width","type":"INT","links":[25,26],"slot_index":0},{"name":"height","type":"INT","links":[27,28],"slot_index":1}],"properties":{"Node name for S&R":"Get resolution [Crystools]"}},{"id":16,"type":"easy showAnything","pos":[1600,-710],"size":[210,76],"flags":{},"order":16,"mode":0,"inputs":[{"name":"anything","type":"*","shape":7,"link":25}],"outputs":[{"name":"output","type":"*","links":[],"slot_index":0}],"properties":{"Node name for S&R":"easy showAnything"},"widgets_values":["1008"]},{"id":17,"type":"easy mathInt","pos":[1860,-880],"size":[241.32406616210938,106],"flags":{},"order":17,"mode":0,"inputs":[{"name":"a","type":"INT","widget":{"name":"a"},"link":26}],"outputs":[{"name":"INT","type":"INT","links":[17,19],"slot_index":0}],"properties":{"Node name for S&R":"easy mathInt"},"widgets_values":[0,2,"divide"]},{"id":18,"type":"easy mathInt","pos":[1860,-730],"size":[241.32406616210938,106],"flags":{},"order":18,"mode":0,"inputs":[{"name":"a","type":"INT","widget":{"name":"a"},"link":27}],"outputs":[{"name":"INT","type":"INT","links":[16,18],"slot_index":0}],"properties":{"Node name for S&R":"easy mathInt"},"widgets_values":[0,2,"divide"]},{"id":19,"type":"easy showAnything","pos":[1600,-560],"size":[210,76],"flags":{},"order":19,"mode":0,"inputs":[{"name":"anything","type":"*","shape":7,"link":28}],"outputs":[{"name":"output","type":"*","links":null}],"properties":{"Node name for S&R":"easy showAnything"},"widgets_values":["568"]},{"id":3,"type":"PreviewImage","pos":[1888.6893310546875,79.32034301757812],"size":[210,246],"flags":{},"order":6,"mode":4,"inputs":[{"name":"images","type":"IMAGE","link":6}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":13,"type":"LoadImage","pos":[306.72625732421875,-1070.38232421875],"size":[374.9914245605469,424.43853759765625],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[14,31],"slot_index":0},{"name":"MASK","type":"MASK","links":[],"slot_index":1}],"title":"原图","properties":{"Node name for S&R":"LoadImage"},"widgets_values":["PGW271G01-4-1.png","image"]},{"id":25,"type":"PreviewImage","pos":[823.6163940429688,-526.5230102539062],"size":[210,246],"flags":{},"order":10,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":35}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"}},{"id":24,"type":"MaskPreview+","pos":[1064.941650390625,-521.3651123046875],"size":[210,246],"flags":{},"order":12,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":34}],"outputs":[],"properties":{"Node name for S&R":"MaskPreview+"}},{"id":20,"type":"Note","pos":[757.6241455078125,-1127.340576171875],"size":[366.9220275878906,129.60211181640625],"flags":{},"order":2,"mode":4,"inputs":[],"outputs":[],"properties":{},"widgets_values":["SEG 自动mask 会将图像缩小到目标大小，然后计算mask，然后叠加到图像上，因此即便是很大的图，也不用担心会爆节点"],"color":"#432","bgcolor":"#653"},{"id":23,"type":"LayerMask: SegmentAnythingUltra V2","pos":[752.08154296875,-940.5181274414062],"size":[411.7835693359375,366],"flags":{},"order":5,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":31}],"outputs":[{"name":"image","type":"IMAGE","links":[33,35],"slot_index":0},{"name":"mask","type":"MASK","links":[32,34,36],"slot_index":1}],"properties":{"Node name for S&R":"LayerMask: SegmentAnythingUltra V2"},"widgets_values":["sam_hq_vit_b (379MB)","GroundingDINO_SwinT_OGC (694MB)",0.3,"VITMatte",6,6,0.15,0.99,false,"dog","cuda",1,true],"color":"rgba(27, 80, 119, 0.7)"},{"id":14,"type":"LayerUtility: CropByMask","pos":[1280.71630859375,-881.0693359375],"size":[271.9259338378906,238],"flags":{},"order":11,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":33},{"name":"mask_for_crop","type":"MASK","link":32}],"outputs":[{"name":"croped_image","type":"IMAGE","links":[24],"slot_index":0},{"name":"croped_mask","type":"MASK","links":null},{"name":"crop_box","type":"BOX","links":null},{"name":"box_preview","type":"IMAGE","links":null}],"properties":{"Node name for S&R":"LayerUtility: CropByMask"},"widgets_values":[false,"mask_area",0,0,0,0],"color":"rgba(38, 73, 116, 0.7)"}],"links":[[1,1,0,2,0,"IMAGE"],[4,1,0,4,0,"IMAGE"],[5,1,1,4,1,"MASK"],[6,4,0,3,0,"IMAGE"],[7,4,3,5,0,"IMAGE"],[8,1,0,6,0,"IMAGE"],[9,4,0,6,1,"IMAGE"],[10,4,2,6,2,"BOX"],[11,6,0,7,0,"IMAGE"],[12,4,0,8,0,"IMAGE"],[13,8,1,9,0,"MASK"],[14,13,0,10,0,"IMAGE"],[16,18,0,10,3,"INT"],[17,17,0,10,4,"INT"],[18,18,0,10,5,"INT"],[19,17,0,10,6,"INT"],[20,10,3,11,0,"IMAGE"],[21,10,0,12,0,"IMAGE"],[24,14,0,15,0,"IMAGE"],[25,15,0,16,0,"*"],[26,15,0,17,0,"INT"],[27,15,1,18,0,"INT"],[28,15,1,19,0,"*"],[31,13,0,23,0,"IMAGE"],[32,23,1,14,1,"MASK"],[33,23,0,14,0,"IMAGE"],[34,23,1,24,0,"MASK"],[35,23,0,25,0,"IMAGE"],[36,23,1,10,1,"MASK"]],"groups":[],"config":{},"extra":{"ds":{"scale":0.8390545288824661,"offset":[-452.15647554678264,1360.6651717257143]},"node_versions":{"comfy-core":"0.3.14","comfyui-kjnodes":"1.0.5","ComfyUI_LayerStyle":"7b326d13e43fc4022cd80e472c7af67027409b1e","ComfyUI_essentials":"33ff89fd354d8ec3ab6affb605a79a931b445d99","ComfyUI_LayerStyle_Advance":"81412d350fa76308cbb47eb4e8805fb23e88ed67","ComfyUI-Crystools":"72e2e9af4a6b9a58ca5d753cacff37ba1ff9bfa8","comfyui-easy-use":"1.2.7"},"ue_links":[]},"version":0.4}